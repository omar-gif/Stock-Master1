{% extends "thirdPro/thirdBase.html" %}
{% load static %}

{% block thirdCont %}
<body>
<!-- Navbar Start -->
<nav class="navbar navbar-expand-lg bg-white navbar-light shadow sticky-top p-0">
    <!-- <a href="index.html" class="navbar-brand d-flex align-items-center px-4 px-lg-5"> -->
        <div class="m-0 text-primary hlogo">
            <div class="logo">
                <i class="fa-solid fa-cubes" style="color: #181e39 ;font-size: 33px;"></i>
                <a href="/" class="text-decoration-none logoText">
                    <h4 class="h5 h5logo">stock</h4>
                    <h1 class="h1 hlogo2">Master</h1>
                </a>
            </div>
        </div>
    <!-- </a> -->
    <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
        <span class="navbar-toggler-icon"></span>
    </button>
    <form  class="search nav-form heado">
        <div class="input-group input-search searchoBtn">
            <input type="text"   class="form-control" name="searchInput" id="searchInput" placeholder="Search By Name Or Part Number" autocomplete="off">
            <div id="browsers">

            </div>
        </div>
    </form>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ms-auto p-4 p-lg-0">
            <a href="/" class="nav-item nav-link">Home</a>
            <a href="/InventoryPage" class="nav-item nav-link">Stock</a>
            <a href="/InvoicePage" class="nav-item nav-link">Invoices</a>
            <a href="/InputPage" class="nav-item nav-link active">Inputs</a>
            <div class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Pages</a>
                <div class="dropdown-menu fade-down m-0">
                    <a href="/Hospitals" class="dropdown-item">Hospitals</a>
                    <a href="/pages-price-list.html" class="dropdown-item">Price List</a>
                    <a href="/setupPage" class="dropdown-item">Setup</a>
                </div>
            </div>
        </div>
    <a href="/signout" class="btn btn-primary py-4 px-lg-5 d-none d-lg-block">Logout<i class="fa fa-arrow-right ms-3"></i></a>    </div>
</nav>
<!-- Navbar End -->

<!-- Header Start -->
<div class="container-fluid bg-primary py-5 mb-5 page-header Inputs">
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-10 text-center">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb justify-content-center">
                        <h1 class="display-3 text-white animated slideInDown">Inputs</h1>
                        <!-- <li class="breadcrumb-item"><a class="text-white" href="/index">Home</a></li> -->
                        <!-- <li class="breadcrumb-item"><a class="text-white" href="#">Pages</a></li>
                        <li class="breadcrumb-item text-white active" aria-current="page">Testimonial</li> -->
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</div>
<!-- Header End -->

    <!-- Categories Start -->
    <div class="container-xxl py-5">
        <div class="container">
            <div class="text-center">
                <h6 class="section-title bg-white text-center text-primary px-3">Inputs</h6>
                <h1 class="mb-5">Build A New Item</h1>
            </div>
            <div class="row g-4">
                <div class="col-lg-3 col-sm-6 wow fadeInUp itemPri" data-wow-delay="0.1s">
                    <div class="service-item text-center pt-3">
                        <div class="p-4">
                            <!-- <i class="fa fa-3x fa-graduation-cap text-primary mb-4"></i> -->
                            <div class="outerNum"> <div class="number1"><h1 class="num">1</h1></div></div>
                            <h5 class="mb-3">Item Prices</h5>
                            <p>Here you can add any Item Price and it is the first step to add New Item</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6 wow fadeInUp itemAdd" data-wow-delay="0.3s">
                    <div class="service-item text-center pt-3">
                        <div class="p-4">
                            <!-- <i class="fa fa-3x fa-globe text-primary mb-4"></i> -->
                            <div class="outerNum"> <div class="number1"><h1 class="num">2</h1></div></div>
                            <h5 class="mb-3">Item</h5>
                            <p>Here you can add a New Item and it is the second step to add New Item</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6 wow fadeInUp IntrInv" data-wow-delay="0.5s">
                    <div class="service-item text-center pt-3">
                        <div class="p-4">
                            <!-- <i class="fa fa-3x fa-home text-primary mb-4"></i> -->
                            <div class="outerNum"> <div class="number1"><h1 class="num">3</h1></div></div>
                            <h5 class="mb-3">International Invoice</h5>
                            <p>Here you can add a New Invoice and it is the last step to add New Item</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6 wow fadeInUp undertestdiv" data-wow-delay="0.7s">
                    <div class="service-item text-center pt-3">
                        <div class="p-4">
                            <div class="outerNum"> <div class="number1"><i class="fa-solid fa-users-gear  num"></i></div></div>
                            <h5 class="mb-3">Undertest</h5>
                            <p>Here you can add Undertest Items but it will not increase the stock Quantity</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
    {% endblock%}
    {% block thirdScript %}

    <!-----------------------------------   Open Undertest div   ----------------------------------------------->
    <script>
        $(".undertestdiv").click(function(){
            $(".container-xxl").append('<div class="outerItemPrice animate__animated animate__fadeInUp">   <div class="inrItemPrice">       <div class="rowsh"><div class="col-lg-12"><div  class="formo"><div class="form-group"><label class="prag1" for="companyName">Company Name</label><select class="form-control ico" id="companyName" name="companyName_Item" required ><option id="companyNameOpt" >--Please choose an option--</option></select></div><div class="form-group"><label class="prag1" for="typeOfAnalyzer">Type Of Analyzer</label><select class="form-control ico" id="typeOfAnalyzer" name="typeOfAnalyzer_Item" required ><option id="typeOfAnalyzerOpt" >--Please choose an option--</option></select></div><div class="form-group"><label class="prag1" for="analyzerName">Analyzer Name</label><select class="form-control ico" id="analyzerName" name="analyzerName_Item" required ><option id="analyzerNameOpt" >--Please choose an option--</option></select></div><div class="form-group"><label class="prag1" for="PartNumber">Part Number</label> <div class="checkItems">   <input class="form-control ico" id="PartNumber" required name="PartNumber_Items" placeholder=" Part Number"/>     <input class="form-control checkPart2" id="Added" required readonly name="addedItems" placeholder=" Item Name"/>         </div> </div><div class="form-group"><label class="prag1" for="statsu">Status</label><select class="form-control ico" id="statsu" name="status_Item" required ><option id="companyNameOpt" >--Please choose an option--</option><option id="analyzerNameOpt" >Tested Ok</option><option id="analyzerNameOpt" >Undertest</option></select></div> <div class="form-group"><label class="prag1" for="datepicker">Date</label><input type="date" id="Dato" class="form-control ico" required  name="dateOfArrival_Item" ></div><div class="form-group"><label class="prag1" for="Note">Note</label><input type="text" id="Note" class="form-control ico" required  name="Note_Item" placeholder="Not allowed to write Tested Ok or Undertest" ></div><div class="form-group ItemPricebtns ">   <button id="Cancel2" type="submit" class="btn btn-danger btnico"  >Cancel</button>   <button id="save2" type="submit" disabled class="btn btn-success btnico"  >Save</button>    </div></div></div></div>      </div>       </div>')

            $("#Cancel2").click(function(){
                $(".outerItemPrice").removeClass('animate__fadeInUp')
                $(".outerItemPrice").addClass('animate__fadeOutDown')
                setTimeout(function(){
                    $(".outerItemPrice").remove()
                },500)
            })
            
            checkParto()
            getCompNames()
            getTypOfAna()
            getAnaType()

            CompNamValidate()
            TypeOfAnaValidate()
            AnaNamValidate()
            PartNumValidate()
            ItemNamValidate()
            StatusValidate()
            DateValidate()
            NoteValidate()

            $("#save2").click(function(){
                submitUnderTest()
            })
        })
    </script>

    <!-- Check Part Number -->
    <script>
        function checkParto(){
            $("#PartNumber").change(function(){
                partnumber = $("#PartNumber").val()
                $.ajax({
                    url: '/getItemName/', // <-- point to server-side PHP script
                    dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                    data:{
                        'partnumber':partnumber,
                    },
                    success: function(arr){
                            $("#Added").val(''+arr[0]+'')				
                    },
                });
            });
        }
        
    </script>

    <!-- get Companies Names -->
    <script>
        function getCompNames(){
            $.ajax({
                url: '/companiesName/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                success: function(arrayOfNames){
                    var j=0;
                    for(i=0 ; i<arrayOfNames.length ; i++){
                        y = arrayOfNames[j]
                        $("#companyName").append('<option id="companyNameOpt" >'+y+'</option>')
                        j++
                    }
                },
            });     
        }
    </script>

    <!-- get Type Of Analyzers -->
    <script>
        function getTypOfAna(){
            $("#companyName").change(function(){
                $("#typeOfAnalyzer").html("<option>--Please choose an option--</option>")
                max = $("#companyName").val()
                console.log(max)
                $.ajax({
                url: '/analyzerTypes/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                data:{
                    'max':max
                },
                success: function(arrayOfNames){
                    console.log(arrayOfNames)
                    var j=0;
                    for(i=0 ; i<arrayOfNames.length ; i++){
                        y = arrayOfNames[j]
                        $("#typeOfAnalyzer").append('<option id="companyNameOpt" >'+y+'</option>')
                        j++
                    }
                    },
                });
            });	
        }
    
    </script>

    <!-- get Analyzers Name  -->
    <script>
        function getAnaType(){
            $("#typeOfAnalyzer").change(function(){
                $("#analyzerName").html("<option>--Please choose an option--</option>")
                max = $("#typeOfAnalyzer").val()
                max1 = $("#companyName").val()
                console.log(max)
                $.ajax({
                    url: '/nameOfItem/', // <-- point to server-side PHP script
                    dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                    data:{
                        'max':max,
                        'max1':max1,
                    },
                    success: function(arrayOfNames){
                        console.log(arrayOfNames)
                        var j=0;
                        for(i=0 ; i<arrayOfNames.length ; i++){
                            y = arrayOfNames[j]
                            $("#analyzerName").append('<option id="companyNameOpt" >'+y+'</option>')
                            j++
                        }
                        },
                });
            });	
        }
            
    </script>
    
    <!-- validate Company   -->
    <script>
        function CompNamValidate(){
            $("#companyName").change(function(){
                compNam = $("#companyName").val()
                typeOfAna = $("#typeOfAnalyzer").val()
                analyzerNam = $("#analyzerName").val()
                PartNum = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemStatus = $("#statsu").val()
                ItemDate = $("#Dato").val()
                ItemNote = $("#Note").val()
                if(compNam == "--Please choose an option--" ||  typeOfAna == "--Please choose an option--" ||  analyzerNam == "--Please choose an option--" || PartNum == "" || ItemNam == "there is no Item with this J Number" || ItemStatus == "" || ItemDate == "" || ItemNote == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- validate Type Of Analyzer   -->
    <script>
        function TypeOfAnaValidate(){
            $("#typeOfAnalyzer").change(function(){
                compNam = $("#companyName").val()
                typeOfAna = $("#typeOfAnalyzer").val()
                analyzerNam = $("#analyzerName").val()
                PartNum = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemStatus = $("#statsu").val()
                ItemDate = $("#Dato").val()
                ItemNote = $("#Note").val()
                if(compNam == "--Please choose an option--" ||  typeOfAna == "--Please choose an option--" ||  analyzerNam == "--Please choose an option--" || PartNum == "" || ItemNam == "there is no Item with this J Number" || ItemStatus == "" || ItemDate == "" || ItemNote == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- validate Analyzer Name   -->
    <script>
        function AnaNamValidate(){
            $("#analyzerName").change(function(){
                compNam = $("#companyName").val()
                typeOfAna = $("#typeOfAnalyzer").val()
                analyzerNam = $("#analyzerName").val()
                PartNum = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemStatus = $("#statsu").val()
                ItemDate = $("#Dato").val()
                ItemNote = $("#Note").val()
                if(compNam == "--Please choose an option--" ||  typeOfAna == "--Please choose an option--" ||  analyzerNam == "--Please choose an option--" || PartNum == "" || ItemNam == "there is no Item with this J Number" || ItemStatus == "" || ItemDate == "" || ItemNote == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- validate Part Number   -->
    <script>
        function PartNumValidate(){
            $("#PartNumber").change(function(){
                compNam = $("#companyName").val()
                typeOfAna = $("#typeOfAnalyzer").val()
                analyzerNam = $("#analyzerName").val()
                PartNum = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemStatus = $("#statsu").val()
                ItemDate = $("#Dato").val()
                ItemNote = $("#Note").val()
                console.log(PartNum,ItemNam)
                if(compNam == "--Please choose an option--" ||  typeOfAna == "--Please choose an option--" ||  analyzerNam == "--Please choose an option--" || ItemNam == "" || PartNum == "" || ItemStatus == "" || ItemDate == "" || ItemNote == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- validate Item Name   -->
    <script>
        function ItemNamValidate(){
            $("#Added").change(function(){
                compNam = $("#companyName").val()
                typeOfAna = $("#typeOfAnalyzer").val()
                analyzerNam = $("#analyzerName").val()
                PartNum = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemStatus = $("#statsu").val()
                ItemDate = $("#Dato").val()
                ItemNote = $("#Note").val()
                if(compNam == "--Please choose an option--" ||  typeOfAna == "--Please choose an option--" ||  analyzerNam == "--Please choose an option--" || PartNum == "" || ItemNam == "there is no Item with this J Number" || ItemStatus == "" || ItemDate == "" || ItemNote == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- validate Status   -->
    <script>
        function StatusValidate(){
            $("#statsu").change(function(){
                compNam = $("#companyName").val()
                typeOfAna = $("#typeOfAnalyzer").val()
                analyzerNam = $("#analyzerName").val()
                PartNum = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemStatus = $("#statsu").val()
                ItemDate = $("#Dato").val()
                ItemNote = $("#Note").val()
                if(compNam == "--Please choose an option--" ||  typeOfAna == "--Please choose an option--" ||  analyzerNam == "--Please choose an option--" || PartNum == "" || ItemNam == "there is no Item with this J Number" || ItemStatus == "" || ItemDate == "" || ItemNote == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- validate Date   -->
    <script>
        function DateValidate(){
            $("#Dato").change(function(){
                compNam = $("#companyName").val()
                typeOfAna = $("#typeOfAnalyzer").val()
                analyzerNam = $("#analyzerName").val()
                PartNum = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemStatus = $("#statsu").val()
                ItemDate = $("#Dato").val()
                ItemNote = $("#Note").val()
                if(compNam == "--Please choose an option--" ||  typeOfAna == "--Please choose an option--" ||  analyzerNam == "--Please choose an option--" || PartNum == "" || ItemNam == "there is no Item with this J Number" || ItemStatus == "" || ItemDate == "" || ItemNote == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- validate Note   -->
    <script>
        function NoteValidate(){
            $("#Note").change(function(){
                compNam = $("#companyName").val()
                typeOfAna = $("#typeOfAnalyzer").val()
                analyzerNam = $("#analyzerName").val()
                PartNum = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemStatus = $("#statsu").val()
                ItemDate = $("#Dato").val()
                ItemNote = $("#Note").val()
                if(compNam == "--Please choose an option--" ||  typeOfAna == "--Please choose an option--" ||  analyzerNam == "--Please choose an option--" || PartNum == "" || ItemNam == "there is no Item with this J Number" || ItemStatus == "" || ItemDate == "" || ItemNote == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- submit Form -->
    <script>
        function submitUnderTest(){
            compNam = $("#companyName").val()
            typeOfAna = $("#typeOfAnalyzer").val()
            analyzerNam = $("#analyzerName").val()
            PartNum = $("#PartNumber").val()
            ItemNam = $("#Added").val()
            ItemStatus = $("#statsu").val()
            ItemDate = $("#Dato").val()
            ItemNote = $("#Note").val()
            $.ajax({
                url: '/subUnderTest/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                data:{
                    'compNam':compNam,
                    'typeOfAna':typeOfAna,
                    'analyzerNam':analyzerNam,
                    'PartNum':PartNum,
                    'ItemNam':ItemNam,
                    'ItemStatus':ItemStatus,
                    'ItemDate':ItemDate,
                    'ItemNote':ItemNote,
                },
                success: function(arrayOfNames){
                    $(".outerItemPrice").removeClass('animate__fadeInUp')
                        $(".outerItemPrice").addClass('animate__fadeOutDown')
                        setTimeout(function(){
                            $(".outerItemPrice").remove()
                        },500)
                    },
            });
        }
                
    </script>
    <!-----------------------------------   Open International invoice div   ----------------------------------->
    <script>
        $(".IntrInv").click(function(){
            $(".container-xxl").append('<div class="outerItemPrice animate__animated animate__fadeInUp">   <div class="inrItemPrice">     <div class="rowsh"><div class="col-lg-12"><div class="formo"><div class="form-group ico"><label class="prag1" for="ItemName">Company Name</label><select class="form-control" id="CompName" name="CompanyName" required ><option id="companyNameOpt" >--Please choose an option--</option></select></div><div class="form-group ico"><label class="prag1" for="PartNumber">Part Number</label> <div class="checkItems"> <input class="form-control" id="PartNumber" required name="PartNumber_Items" placeholder=" Part Number"/> <input class="form-control checkPart2" id="Added" required readonly name="addedItems" placeholder=" Item Name"/> </div> <div class="form-group ico"><label class="prag1" for="ItemName">Date</label><input id="InvoDate" type="date" class="form-control" placeholder=" Date" name="InvoDate" required  /></div><div class="form-group ico"><label class="prag1" for="PartNumber">Invoice Number</label><input id="InvoNum" class="form-control"  placeholder=" Invoice Number" name="InvoNum" required/></div><div class="form-group ico"><label class="prag1" for="QTY">QTY</label> <input class="form-control" id="QTY" required name="QTY_Items" placeholder=" Quantity "/> </div><div class="form-group ico"><label class="prag1" for="lotNumber">Lot Number</label> <input class="form-control" id="lotNumber" required name="lotNum_Items" placeholder=" Lot Number"/> </div>  </div></div><div class="form-group ItemPricebtns wow fadeInUp">   <button id="Cancel2" type="submit" class="btn btn-danger btnico"  >Cancel</button>   <button id="save2" type="submit" disabled class="btn btn-success btnico"  >Save</button>    </div></div>         </div>       </div>')

            $("#Cancel2").click(function(){
                $(".outerItemPrice").removeClass('animate__fadeInUp')
                $(".outerItemPrice").addClass('animate__fadeOutDown')
                setTimeout(function(){
                    $(".outerItemPrice").remove()
                },500)
            })
            checkCompName()
            checkPart()

            CompaniesValidate()
            partNumValidate()
            InvoiceDateValidate()
            InvoiceNumValidate()
            QTYalidate()
            lotNumbervalidate()

            $("#save2").click(function(){
                submitIntr()
            })
        })
    </script>

    <!-- Companies Name  -->
    <script>
        function checkCompName(){
            $.ajax({
                url: '/GetTypeOfAnalyzer/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                success: function(arrayOfItemName){
                    console.log(arrayOfItemName)
                    var j = 0;
                    for(var i=0 ; i <arrayOfItemName.length ; i++){
                        y = arrayOfItemName[j]
                        $("#CompName").append('<option id="teamLeaderOpt" >'+y+'</option>')
                        j++
                    }
                },
            });
        }
        
    </script>

    <!-- Check Part Number -->
    <script>
        function checkPart(){
            $("#PartNumber").change(function(){
                partnumber = $("#PartNumber").val()
                $.ajax({
                    url: '/getItemName/', // <-- point to server-side PHP script
                    dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                    data:{
                        'partnumber':partnumber,
                    },
                    success: function(arr){
                            $("#Added").val(''+arr[0]+'')				
                    },
                });
            });
        }
        
    </script>

    <!-- validate Companies Name  -->
    <script>
        function CompaniesValidate(){
            $("#CompName").change(function(){
                compNam = $("#CompName").val()
                partNam = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemDate = $("#InvoDate").val()
                ItemInv = $("#InvoNum").val()
                ItemQTY = $("#QTY").val()
                ItemLot = $("#lotNumber").val()
                console.log(compNam,partNam,ItemNam,ItemDate,ItemInv,ItemQTY,ItemLot)
                if(compNam == "--Please choose an option--" ||  partNam == "" ||  ItemNam == "there is no Item with this J Number" || ItemDate == "" || ItemInv == "" || ItemQTY == "" || ItemLot == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- validate Part Number  -->
    <script>
        function partNumValidate(){
            $("#PartNumber").change(function(){
                compNam = $("#CompName").val()
                partNam = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemDate = $("#InvoDate").val()
                ItemInv = $("#InvoNum").val()
                ItemQTY = $("#QTY").val()
                ItemLot = $("#lotNumber").val()
                console.log(compNam,partNam,ItemNam,ItemDate,ItemInv,ItemQTY,ItemLot)
                if(compNam == "--Please choose an option--" ||  partNam == "" || ItemDate == "" || ItemInv == "" || ItemQTY == "" || ItemLot == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- validate Invoice Date  -->
    <script>
        function InvoiceDateValidate(){
            $("#InvoDate").change(function(){
                compNam = $("#CompName").val()
                partNam = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemDate = $("#InvoDate").val()
                ItemInv = $("#InvoNum").val()
                ItemQTY = $("#QTY").val()
                ItemLot = $("#lotNumber").val()
                console.log(compNam,partNam,ItemNam,ItemDate,ItemInv,ItemQTY,ItemLot)
                if(compNam == "--Please choose an option--" ||  partNam == "" ||  ItemNam == "there is no Item with this J Number" || ItemDate == "" || ItemInv == "" || ItemQTY == "" || ItemLot == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- validate Invoice Number  -->
    <script>
        function InvoiceNumValidate(){
            $("#InvoNum").change(function(){
                compNam = $("#CompName").val()
                partNam = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemDate = $("#InvoDate").val()
                ItemInv = $("#InvoNum").val()
                ItemQTY = $("#QTY").val()
                ItemLot = $("#lotNumber").val()
                console.log(compNam,partNam,ItemNam,ItemDate,ItemInv,ItemQTY,ItemLot)
                if(compNam == "--Please choose an option--" ||  partNam == "" ||  ItemNam == "there is no Item with this J Number" || ItemDate == "" || ItemInv == "" || ItemQTY == "" || ItemLot == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- validate QTY  -->
    <script>
        function QTYalidate(){
            $("#QTY").change(function(){
                compNam = $("#CompName").val()
                partNam = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemDate = $("#InvoDate").val()
                ItemInv = $("#InvoNum").val()
                ItemQTY = $("#QTY").val()
                ItemLot = $("#lotNumber").val()
                console.log(compNam,partNam,ItemNam,ItemDate,ItemInv,ItemQTY,ItemLot)
                if(compNam == "--Please choose an option--" ||  partNam == "" ||  ItemNam == "there is no Item with this J Number" || ItemDate == "" || ItemInv == "" || ItemQTY == "" || ItemLot == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- validate Lot Number  -->
    <script>
        function lotNumbervalidate(){
            $("#lotNumber").change(function(){
                compNam = $("#CompName").val()
                partNam = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemDate = $("#InvoDate").val()
                ItemInv = $("#InvoNum").val()
                ItemQTY = $("#QTY").val()
                ItemLot = $("#lotNumber").val()
                console.log(compNam,partNam,ItemNam,ItemDate,ItemInv,ItemQTY,ItemLot)
                if(compNam == "--Please choose an option--" ||  partNam == "" ||  ItemNam == "there is no Item with this J Number" || ItemDate == "" || ItemInv == "" || ItemQTY == "" || ItemLot == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

     <!-- submit Form -->
     <script>
        function submitIntr(){
            compNam = $("#CompName").val()
            partNam = $("#PartNumber").val()
            ItemNam = $("#Added").val()
            ItemDate = $("#InvoDate").val()
            ItemInv = $("#InvoNum").val()
            ItemQTY = $("#QTY").val()
            ItemLot = $("#lotNumber").val()
            $.ajax({
                url: '/subIntrInvoice/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                data:{
                    'compNam':compNam,
                    'partNam':partNam,
                    'ItemNam':ItemNam,
                    'ItemDate':ItemDate,
                    'ItemInv':ItemInv,
                    'ItemQTY':ItemQTY,
                    'ItemLot':ItemLot,
                },
                success: function(arrayOfNames){
                    $(".outerItemPrice").removeClass('animate__fadeInUp')
                        $(".outerItemPrice").addClass('animate__fadeOutDown')
                        setTimeout(function(){
                            $(".outerItemPrice").remove()
                        },500)
                    },
            });
        }
                
        </script>

    <!---------------------------------------   Open Add Item div   -------------------------------------------------->
    <script>
        $(".itemAdd").click(function(){
            $(".container-xxl").append('<div class="outerItemPrice animate__animated animate__fadeInUp">   <div class="inrItemPrice">     <div class="rowsh"><div class="col-lg-12"><div class="formo"><div class="form-group"><label class="prag1" for="partNumber">Part Number</label>    <div class="checkItems">     <input type="text"  placeholder=" Part Number" class="form-control ico" id="partNumber" name="partNumber_Item" required />   <input type="text"   class="checkPart" disabled id="checkpartNumber"   />  </div>   </div><div class="form-group"><label class="prag1" for="datepicker">Date</label><input type="date" id="ItemDate" class="form-control ico" /></div><div class="form-group ico"><label class="prag1" for="mainy">Item Image</label><div class="main" id="mainy"><div class="mini" id="mini" ><div class="innerinpuc" id="innerinpuc"><div id="frames" ></div><div id="loadingbar"></div></div></div><div id="loader" class="lds-dual-ring hidden overlay"></div><div class="inpu" id="inputa"><input type="file" id="image"  name="image[]" multiple class="btn btn-secondary" required/><button id="upload" type="button" class="btn btn-secondary" >Upload</button></div></div></div><div class="form-group ItemPricebtns wow fadeInUp">   <button id="Cancel2" type="submit" class="btn btn-danger btnico"  >Cancel</button>   <button id="save2" type="submit" disabled class="btn btn-success btnico"  >Save</button>    </div></div></div></div>         </div>       </div>')
            
            $("#Cancel2").click(function(){
                $(".outerItemPrice").removeClass('animate__fadeInUp')
                $(".outerItemPrice").addClass('animate__fadeOutDown')
                setTimeout(function(){
                    $(".outerItemPrice").remove()
                },500)
            })
            var newId = 0;
            var newIdx = 0;
            var newIdy = 0;


            $('#image').change(function(){
                
                $("#frames").html('');
                $("#links").html('');
                for (var i = 0; i < $(this)[0].files.length; i++) {

                    $("#frames").append('<div class="innerinpu" > <div class="in"><img id="dx" src="'+window.URL.createObjectURL(this.files[i])+'" width="20%" height="20%" class="animate__animated animate__fadeIn"/>  </div> <div class="atag"> <button class="animate__animated animate__fadeIn" data-name="image-name1" id="remove" class="delete-image" type="remove" >remove</button></div>  </div>   ');
                    }
                    $(".innerinpu").each(function (){
                        newId = newId + 1 ;
                        var x = $(this).attr("id","remove"+newId);
                        newIdx = newIdx + 1 ;
                        var y = $("#remove").attr("id","remo"+newIdx);
                        newIdy = newIdy+1;
                        var z = $(this).attr("id","innerinpu"+newIdy);

                        $(y).click(function () {
                            $(z).remove();
                            $('#image').val("");
                        });



                    });


            });
            
            $('#upload').click(function () {
                $("#upload").attr("disabled", true)
                $(".outerItemPrice").append('<div class="shadow15"> </div>')
                imgFun()
            });

            $("#partNumber").change(function(){
                partNumber()
            })

            checkDate()

            
            
            $("#save2").click(function(){
                submito()
            })
        })
    </script>

    <!------   upload Images -------- -->
    <script>
        function imgFun(){            
            var form_data = new FormData();
            file_data1 = $("#image").prop('files').length;
            for(var i = 0 ; i<=file_data1 ; i++){
                    file_data = $("#image").prop('files')[i];
                    form_data.append("file", file_data);
                    console.log(i);
                    }
            $.ajax({
                url: '/uploadFiles3/', // <-- point to server-side PHP script
                dataType: 'text',  // <-- what to expect back from the PHP script, if anything
                cache: false,
                contentType: false,
                processData: false,
                data: form_data,
                type: 'post',
                beforeSend:function(xmlHttpRequest){
                    $(".shadow15").append('<div class="loader"></div>')
                },

                success: function(response){
                    $(".shadow15").remove()
                    
                },

            });
		    
        }
		
    </script>  

    <!-- check Partnumber -->
    <script>
        function partNumber(){
            
            
                partNumVal = $("#partNumber").val()
                $.ajax({
                    url: '/CheckItemName/', // <-- point to server-side PHP script
                    data:{
                        'partNumVal':partNumVal,
                    },
                    success: function(Response){
                        if(Response.getName){
                            $("#checkpartNumber").val(Response.getName)
                        }
                        else{
                            $("#checkpartNumber").val(Response.mess)
                        }
                        checkpartNumber = $("#checkpartNumber").val()
                        console.log(checkpartNumber)
                        PartNum = $("#partNumber").val()
                        itemDate = $("#ItemDate").val()
                        if(PartNum == "" ||checkpartNumber =="There is no Item with this part number" || itemDate == "" ){
                            $("#save2").attr("disabled", true)
                        }
                        else{
                            $("#save2").attr("disabled", false)
                        }
                        },
                        
                });
                
            
        }
        
    </script>

    <!-- check Date  -->
    <script>
        function checkDate(){
            $("#ItemDate").change(function(){
                checkpartNumber = $("#checkpartNumber").val()
                PartNum = $("#partNumber").val()
                itemDate = $("#ItemDate").val()
                if(PartNum == ""||checkpartNumber =="There is no Item with this part number" || itemDate == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- Submit Form  -->
    <script>
        function submito(){
            PartNum = $("#partNumber").val()
            itemDate = $("#ItemDate").val()
            console.log(PartNum)
            console.log(itemDate)
            $.ajax({
                url: '/ItemInput3/', // <-- point to server-side PHP script
                data:{
                    'PartNum':PartNum,
                    'itemDate':itemDate,
                },
                success: function(arrayOfNames){

                    $(".outerItemPrice").removeClass('animate__fadeInUp')
                    $(".outerItemPrice").addClass('animate__fadeOutDown')
                    setTimeout(function(){
                        $(".outerItemPrice").remove()
                    },500)
                    
                    },
            
            });
        }

    </script>

    <!------------------------------------ Open Item Price div ----------------------------->
    <script>
        $(".itemPri").click(function(){
            $(".container-xxl").append('<div class="outerItemPrice animate__animated animate__fadeInUp">   <div class="inrItemPrice">  <div class="rowsh col-lg-12"><div class="col-lg-12"><div  class="formo"/><div class="form-group"><label class="prag1" for="companyName">Company Name</label><select class="form-control ico" id="companyName" name="companyName_Item" required ><option id="companyNameOpt" >--Please choose an option--</option></select></div><div class="form-group ico"><label class="prag1" for="typeOfAnalyzer">Type Of Analyzer</label><select class="form-control ico" id="typeOfAnalyzer" name="typeOfAnalyzer_Item" required ><option id="typeOfAnalyzerOpt" >--Please choose an option--</option></select></div><div class="form-group ico"><label class="prag1" for="analyzerName">Analyzer Name</label><select class="form-control ico" id="analyzerName" name="analyzerName_Item" required ><option id="analyzerNameOpt" >--Please choose an option--</option></select></div>	<div class="form-group ico"><label class="prag1" for="PartNumber">Part Number</label> <input class="form-control ico" id="PartNumber" required name="PartNumber" placeholder=" Part Number"/> </div><div class="form-group ico"><label class="prag1" for="Added">Item Name</label> <input class="form-control ico"  id="Added" required  name="addedItems" placeholder=" Item Name"/> </div> <div class="form-group"><label class="prag1" for="idprice">Price</label><input id="idprice" placeholder=" Price" class="form-control ico" name="ID_price" required /></div><div class="form-group ItemPricebtns wow fadeInUp">   <button id="Cancel2" type="submit" class="btn btn-danger btnico"  >Cancel</button>   <button id="save2" type="submit" disabled class="btn btn-success btnico"  >Save</button>    </div></div></div></div>             </div>       </div>')

            $("#Cancel2").click(function(){
                $(".outerItemPrice").removeClass('animate__fadeInUp')
                $(".outerItemPrice").addClass('animate__fadeOutDown')
                setTimeout(function(){
                    $(".outerItemPrice").remove()
                },500)
            })
            companyName()
            typeOfAnalyzer()
            analyzerName()
            partNm()
            itemNamo()
            itemPrico()
            $("#save2").click(function(){
                subm()
            })
        })
    </script>
    <!-- Companies Name  -->
    <script>
        function companyName(){
            $.ajax({
                url: '/companiesName/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                success: function(arrayOfNames){
                    var j=0;
                    for(i=0 ; i<arrayOfNames.length ; i++){
                        y = arrayOfNames[j]
                        $("#companyName").append('<option id="companyNameOpt" >'+y+'</option>')
                        j++
                    }
                   
                    $("#companyName").change(function(){
                        compNam = $("#companyName").val()
                        typeOfaNa = $("#typeOfAnalyzer").val()
                        analyNam = $("#analyzerName").val()
                        partNam = $("#PartNumber").val()
                        ItemNam = $("#Added").val()
                        ItemPrice = $("#idprice").val()
                        if(compNam == "--Please choose an option--" || typeOfaNa == "--Please choose an option--" || analyNam == "--Please choose an option--" || partNam == "" || ItemNam == "" || ItemPrice == "" ){
                            $("#save2").attr("disabled", true)
                        }
                        else{
                            $("#save2").attr("disabled", false)
                        }
                    })
                    
                    },
            
            });
        }
    </script>

    <!-- analyzers type  -->
    <script>
        function typeOfAnalyzer(){
            $("#companyName").change(function(){
            $("#typeOfAnalyzer").html("<option>--Please choose an option--</option>")
            max = $("#companyName").val()
            console.log(max)
            $.ajax({
                url: '/analyzerTypes/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                data:{
                    'max':max
                },
                success: function(arrayOfNames){
                    var j=0;
                    for(i=0 ; i<arrayOfNames.length ; i++){
                        y = arrayOfNames[j]
                        $("#typeOfAnalyzer").append('<option id="companyNameOpt" >'+y+'</option>')
                        j++
                    }
                    $("#typeOfAnalyzer").change(function(){
                        compNam = $("#companyName").val()
                        typeOfaNa = $("#typeOfAnalyzer").val()
                        analyNam = $("#analyzerName").val()
                        partNam = $("#PartNumber").val()
                        ItemNam = $("#Added").val()
                        ItemPrice = $("#idprice").val()
                        if(compNam == "--Please choose an option--" || typeOfaNa == "--Please choose an option--" || analyNam == "--Please choose an option--" || partNam == "" || ItemNam == "" || ItemPrice == "" ){
                            $("#save2").attr("disabled", true)
                        }
                        else{
                            $("#save2").attr("disabled", false)
                        }
                    })
                    },
                });
            });	
        }

    </script>

    <!-- analyzers Name -->
    <script>
        function analyzerName(){
            $("#typeOfAnalyzer").change(function(){
                $("#analyzerName").html("<option>--Please choose an option--</option>")
                max = $("#typeOfAnalyzer").val()
                max1 = $("#companyName").val()
                console.log(max)
                $.ajax({
                url: '/nameOfItem/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                data:{
                    'max':max,
                    'max1':max1,
                },
                success: function(arrayOfNames){
                    console.log(arrayOfNames)
                    var j=0;
                    for(i=0 ; i<arrayOfNames.length ; i++){
                        y = arrayOfNames[j]
                        $("#analyzerName").append('<option id="companyNameOpt" >'+y+'</option>')
                        j++
                    }
                    $("#analyzerName").change(function(){
                        compNam = $("#companyName").val()
                        typeOfaNa = $("#typeOfAnalyzer").val()
                        analyNam = $("#analyzerName").val()
                        partNam = $("#PartNumber").val()
                        ItemNam = $("#Added").val()
                        ItemPrice = $("#idprice").val()
                        if(compNam == "--Please choose an option--" || typeOfaNa == "--Please choose an option--" || analyNam == "--Please choose an option--" || partNam == "" || ItemNam == "" || ItemPrice == "" ){
                            $("#save2").attr("disabled", true)
                        }
                        else{
                            $("#save2").attr("disabled", false)
                        }
                    })
                    },
                });
            });	
        }

    </script>

    <!-- part Nmuber  -->
    <script>
        function partNm(){
            $("#PartNumber").change(function(){
                compNam = $("#companyName").val()
                typeOfaNa = $("#typeOfAnalyzer").val()
                analyNam = $("#analyzerName").val()
                partNam = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemPrice = $("#idprice").val()
                if(compNam == "--Please choose an option--" || typeOfaNa == "--Please choose an option--" || analyNam == "--Please choose an option--" || partNam == "" || ItemNam == "" || ItemPrice == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- Item Name -->
    <script>
        function itemNamo(){
            $("#Added").change(function(){
                compNam = $("#companyName").val()
                typeOfaNa = $("#typeOfAnalyzer").val()
                analyNam = $("#analyzerName").val()
                partNam = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemPrice = $("#idprice").val()
                if(compNam == "--Please choose an option--" || typeOfaNa == "--Please choose an option--" || analyNam == "--Please choose an option--" || partNam == "" || ItemNam == "" || ItemPrice == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- Item Price -->
    <script>
        function itemPrico(){
            $("#idprice").change(function(){

                compNam = $("#companyName").val()
                typeOfaNa = $("#typeOfAnalyzer").val()
                analyNam = $("#analyzerName").val()
                partNam = $("#PartNumber").val()
                ItemNam = $("#Added").val()
                ItemPrice = $("#idprice").val()
                if(compNam == "--Please choose an option--" || typeOfaNa == "--Please choose an option--" || analyNam == "--Please choose an option--" || partNam == "" || ItemNam == "" || ItemPrice == "" ){
                    $("#save2").attr("disabled", true)
                }
                else{
                    $("#save2").attr("disabled", false)
                }
            })
        }
        
    </script>

    <!-- submit Form -->
    <script>
    function subm(){
        companyNan = $("#companyName").val()
        typeOfAnaly = $("#typeOfAnalyzer").val()
        analyzerNam = $("#analyzerName").val()
        PartNum = $("#PartNumber").val()
        ItemNam = $("#Added").val()
        ItemPrice = $("#idprice").val()
        $.ajax({
        url: '/ItemPriceFunc/', // <-- point to server-side PHP script
        dataType:  'json',  // <-- what to expect back from the PHP script, if anything
        data:{
            'companyNan':companyNan,
            'typeOfAnaly':typeOfAnaly,
            'analyzerNam':analyzerNam,
            'PartNum':PartNum,
            'ItemNam':ItemNam,
            'ItemPrice':ItemPrice,
        },
        success: function(arrayOfNames){
            $(".outerItemPrice").removeClass('animate__fadeInUp')
                $(".outerItemPrice").addClass('animate__fadeOutDown')
                setTimeout(function(){
                    $(".outerItemPrice").remove()
                },500)
            },
        });
    }
        	
    </script>

    <!-- Search Input -->
    <script>
        $('#searchInput').keyup("change",function(e){
                searchVal = e.target.value
                console.log(searchVal);
                $("#browsers").html("")
                $.ajax({
                url: '/seclive/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anythin
                data:{
                    'searchVal':searchVal,
                },
                beforeSend:function(xmlHttpRequest){
                                $("#browsers").append('<div id="contdiv"> <div class="loader"></div></div>');
                            },
                success: function(AllArrayOfNames){
                    $("#browsers").html("")
                    $("#contdiv").remove();
                    var j = 0;
                    for(var i=0;i<AllArrayOfNames.length/5;i++){
                        $("#browsers").append(' <button type="button" value="'+AllArrayOfNames[j+1]+'" class="SearchBtn" id="imgdiv"><div id="smallo"><option id="searchOption"> '+AllArrayOfNames[j]+'</option><div id="smalldiv"><big> QTY : '+AllArrayOfNames[j+3]+'</big><big> AllQTY : '+AllArrayOfNames[j+4]+'</big></div></div> <img id="itemphoto" src="'+AllArrayOfNames[j+2]+'">  </button>');
                        j = j+5;
                    }
                    console.log("MOH5")
                    $(".SearchBtn").click(function(){
                        itemId = $(this).val()
                        bookStoreFun(itemId)
                    })

                    $(".bodya").click(function(){
                            $("#browsers").css("display", "none");
                        });

                    $("#searchInput").wrapInner(function(){
                        $("#browsers").css("display", "inline");
                    });
                    },
                });
        });
    </script>    
    
    {% endblock %}
</body>
