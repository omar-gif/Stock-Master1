{% extends "secproj/base.html" %}
{% load static %}
<html lang="en">

  <head>
    {% block Dash %}
        Import System
        {%endblock%}
  </head>





    {% block cont %}
  <section class="services">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <!-- <div class="owl-service-item owl-carousel"> -->
          <div class="allaction">
            
            
            <div class="item ito">
              <div class="icon">
                <img src="{%static 'secproject/assets/images/service-icon-02.png' %}" alt="">
              </div>
              <div class="down-content">
                <!-- <h4>Manual Item Input</h4> -->
                <p>Add an Item  Manual </p>
                <!-- <button type="button" id="eleinp" class="btn btn-success ">Manual Item Input</button> -->
                <a  class="form-control btn btn-success bto" id="eleinp6" href="#VitrosX1"  data-toggle="tab">Manual Item Input</a>
              </div>
            </div>
            
            <div class="item ito">
              <div class="icon">
                <img src="{%static 'secproject/assets/images/service-icon-03.png' %}" alt="">
              </div>
              <div class="down-content">
                <!-- <h4>Manual Invoice Input</h4> -->
                <p>Add an Invoice  Manual </p>
                <!-- <button type="button" id="invoiceinput" class="btn btn-success bto">Manual Invoice Input</button> -->
                <a  class="form-control btn btn-success bto" id="invoiceinput6" href="#Invoice1"  data-toggle="tab">Manual Invoice Input</a>
              </div>
            </div>
            
            <div class="item ito">
              <div class="icon">
                <img src="{%static 'secproject/assets/images/service-icon-02.png' %}" alt="">
              </div>
              <div class="down-content">
                <!-- <h4>Manual Delete Confirmation</h4> -->
                <p>Delete a Confirmation  Manual </p>
                <button type="button" id="delconf6" class="btn btn-success bto">Manual Delete Confirmation</button>
              </div>
            </div>
            
            <!-- <div class="item">
              <div class="icon">
                <img src="{%static 'secproject/assets/images/service-icon-03.png' %}" alt="">
              </div>
              <div class="down-content">
                <h4>Best Networking</h4>
                <p>Suspendisse tempor mauris a sem elementum bibendum. Praesent facilisis massa non vestibulum.</p>
              </div>
            </div> -->
            
          </div>
        </div>
      </div>
    </div>

    <div  id="allcontent">
      <div class="row">
          <div class="tab-content">
  
              <div id="VitrosV1" class="tab-pane">
                  <div class="vitrodiv animate__animated animate__backInDown" >
                      <form method="post"  enctype="multipart/form-data" name="basic__form" class="formo12">
                          {% csrf_token %}
                          <div class="form-group ico">
                              <label class="prag2" for="Dato">Order Number</label>
                              <input  class="form-control"  name="orderNumber_item" id="orderNumber1" readonly required />
                          </div>
                          <div class="form-group ico">
                              <label class="prag2" for="analyzerName">Organize Name</label>
                              <select class="form-control" id="OrganizeName" name="OrganizeName_Item" required >
                                  <option id="analyzerNameOpt" >--Please choose an option--</option>
                              </select>
                          </div>	
                          <div class="form-group ico">
                              <label class="prag2" for="companyName">Company Name</label>
                              <select class="form-control" id="companyName" name="companyName_Item" required >
                                  <option id="companyNameOpt" >--Please choose an option--</option>
                              </select>
                          </div>
                          <div class="form-group ico">
                              <label class="prag2" for="typeOfAnalyzer">Type Of Analyzer</label>
                              <select class="form-control" id="typeOfAnalyzer" name="typeOfAnalyzer_Item" required >
                                  <option id="typeOfAnalyzerOpt" >--Please choose an option--</option>
                              </select>
                          </div>
                          <div class="form-group ico">
                              <label class="prag2" for="Dato">Date</label>
                              <input  class="form-control"  name="Dato_item" id="Dato1" required type="date" readonly/>
                          </div>
                          <div class="form-group ico">
                              <label class="prag2" for="Dato">Note</label>
                              <input  class="form-control"  name="Note_item" id="Note" />
                          </div>
                          <div class="buttons1">
                              <button id="Ordercancel" type="button" class="btn btn-danger vlc"  >Cancel</button>
                              <button id="OrderInput" type="button" disabled class="btn btn-success vlc"  >Save</button>
                          </div>
                      </form>
                  </div>
              </div>
              <div id="VitrosX1" class="tab-pane">
                  <div class="vitrodiv animate__animated animate__backInDown">
                          <div class="formo12">
                              <div class="form-group ico">
                                  <label class="prag2" for="Dato">Date</label>
                                  <input  class="form-control"  name="Dato_item" id="Dato2" required readonly/>
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="Dato">Order Number</label>
                                  <input  class="form-control"  name="orderNumber_item" id="orderNumber12" required />
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="companyName">Company Name</label>
                                  <input  class="form-control"  name="companyName_Item" id="companyName1" readonly required />

                                
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="typeOfAnalyzer">Type Of Analyzer</label>
                                  <input  class="form-control"  name="typeOfAnalyzer_Item" id="typeOfAnalyzer1"  required />
                                  
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="companyName">Item Name</label>
                                  <select class="form-control" id="ElementName" name="ElementName_Item" required >
                                      <option id="companyNameOpt" >--Please choose an option--</option>
                                  </select>
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="companyName">Cat. Number</label>
                                  <select class="form-control" id="CatNumber" name="Cat_Item" required >
                                      <option id="companyNameOpt" >--Please choose an option--</option>
                                  </select>
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="Dato">QTY</label>
                                  <input  class="form-control"  name="QTY_item" id="QTY" required />
                                  <div id="Avlq2"><h1 id="AVLQTY2"> </h1></div>
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="Dato">Note</label>
                                  <input  class="form-control"  name="Note_item" id="Note1" />
                              </div>
                              <div class="buttons1">
                                  <button id="Ordercancel1" type="button" class="btn btn-danger vlc"  >Cancel</button>
                                  <button id="OrderInput1" type="button" class="btn btn-success vlc"  >Save</button>
                              </div>
                          </div>
                  </div>
              </div>

              <div id="files" class="tab-pane">
                    <div class="vitrofiles animate__animated animate__backInDown">
                                               
                        <div class="ordersbtn">
                            <div class="inrordersbtn"></div>
                            <div class="awsmo">X</div> 
                        </div>
                        <div class="slash"></div>
                        <div class="mono">
                            <div class="createorder">
                                <div class="headdiv"><h1 class="ordhead">Create Orders</h1></div>
                                <div class="createorderdiv"></div>
                            </div>
                            <div class="slash"></div>
                            <div class="OC">
                            <div class="headdiv"><h1 class="ordhead">Order Confirmation</h1></div>
                            <div class="OCdiv"></div>
                            </div>
                            <div class="slash"></div>
                            <div class="orderscontain">
                            <div class="headdiv"><h1 class="ordhead">Invoices</h1></div>
                            <div class="bodydiv"></div>
                            </div>
                        
                            <div class="slash"></div>
                            <div class="pdfs">
                            <div class="headdiv"><h1 class="ordhead">Invoices Files</h1></div>
                            <div class="pdfsdiv"></div>
                            </div>
                            <div class="slash"></div>
                        </div>
                  </div>
              </div>
              <div id="Invoice1" class="tab-pane">
                  <div class="vitrodiv animate__animated animate__backInDown">
                          <div class="formo12">
                              
                              <div class="form-group ico">
                                  <label class="prag2" for="Dato">Date</label>
                                  <input  class="form-control" type="date"  name="Dato4_item" id="Dato4" required />
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="Dato">Order Number</label>
                                  <input  class="form-control animate__shakeX"  name="orderNumber_item" id="orderNumber4" required />
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="companyName">Shipping Cond</label>
                                  <select class="form-control" id="ship" name="ship_Item" required >
                                      <option id="companyNameOpt" >--Please choose an option--</option>
                                      <option id="companyNameOpt" >Refrigrated</option>
                                      <option id="companyNameOpt" >Frozen</option>
                                      <option id="companyNameOpt" >Normal Temperture</option>
                                  </select>
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="companyName">Confirmation Number</label>
                                  <!-- <input  class="form-control animate__shakeX"  name="conf_Item" id="confNumber" required /> -->
                                  <select class="form-control" id="confNumber" name="conf_Item" required >
                                      <option id="companyNameOpt" >--Please choose an option--</option>
                                  </select>
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="Dato"> Item Name</label>
                                  <input  class="form-control animate__shakeX"  name="ItemName_item" id="ItemNameItem" disabled required />
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="Dato"> Cat. Number</label>
                                  <input  class="form-control animate__shakeX"  name="CatNumber_item" id="CatNumberItem" disabled required />
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="Dato">QTY</label>
                                  <input  class="form-control animate__shakeX"  name="QTY_item" id="QTYItem" disabled required />
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="Dato">QTY In Slides</label>
                                  <input  class="form-control animate__shakeX"  name="QTYSlides_item" id="QTYSlidesItem" disabled required />
                              </div> 
                              <div class="form-group ico">
                                  <label class="prag2" for="companyName">Company Name</label>
                                  <input  class="form-control"  name="companyName4_Item" id="companyName4" readonly required />
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="typeOfAnalyzer">Type Of Analyzer</label>
                                  <input  class="form-control"  name="typeOfAnalyzer4_Item" id="typeOfAnalyzer4" readonly required />
                              </div>
                              <div class="form-group ico">
                                  <label class="prag2" for="Dato">Invoice Number</label>
                                  <input  class="form-control animate__shakeX"  name="InvoiceNumber_item" id="InvoiceNumber4" required />
                              </div>
                                      
                              <div class="form-group ico">
                                  <label class="prag2" for="Dato">Price</label>
                                  <input  class="form-control"  name="Price4_item" id="Price4" readonly required />
                              </div>

                              
                              <div class="buttons1">
                                  <button id="Ordercancel45" type="button" class="btn btn-danger vlc"  >Cancel</button>
                                  <button id="OrderInput4" type="button" class="btn btn-success vlc"  >Save</button>
                              </div>
                          </div>
                  </div>
              </div>
  
          </div>
          
      </div>
    </div>
    <div class="contall"></div>
  </section>


  



  <section class="apply-now" id="apply">
    <div class="container" id="exceldiv">
      <div class="row" id="contdivs">
        <div class="col-lg-8 align-self-center">
          <div class="row">
            <div class="col-lg-12" >
              <!-- <div class="item">
                <h3>APPLY FOR BACHELOR DEGREE</h3>
                <p>You are allowed to use this edu meeting CSS template for your school or university or business. You can feel free to modify or edit this layout.</p>
                <div class="main-button-red">
                  <div class="scroll-to-section"><a href="#contact">Join Us Now!</a></div>
              </div> -->
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-12">
          <div class="accordions is-first-expanded" id="conf_btn">
            
        </div>
        </div>
        <div id="exceldiv1"></div>
      </div>
    </div>
  </section>
  <div class="shadow1"></div>
  <section class="our-courses" id="courses">
    <div class="shadow"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="section-heading ordo1">
            <h2>Pending Orders  <i class="fa-solid fa-bars" id="pagesorders" style="color: #ffffff;"></i></h2>
          </div>
        </div>
        <div class="col-lg-12">
          <div class="owl-service-item owl-carousel undero1">
              
            
          </div>
          <div class="vendo"></div>
        </div>
      </div>
    </div>
  </section>
  <section class="apply-now" id="apply">
    <div class="container">
      <div class="row" id="contdivs">
        <div class="col-lg-8 align-self-center">
          <div class="row">
            <div class="col-lg-12" >
                <div class="section-heading ordo">
                    <h2>Back Orders  </h2>
                  </div>
              <!-- <div class="item">
                <h3>APPLY FOR BACHELOR DEGREE</h3>
                <p>You are allowed to use this edu meeting CSS template for your school or university or business. You can feel free to modify or edit this layout.</p>
                <div class="main-button-red">
                  <div class="scroll-to-section"><a href="#contact">Join Us Now!</a></div>
              </div> -->
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-12" id="invoicesBtn2">
          <div class="accordions is-first-expanded bnbn" id="invoicesBtn">
            <div class="item ito">
              <div class="icon985">
                <img class="iconimg" src="{%static 'secproject/assets/images/backOrder.png' %}" alt="">
              </div>
              <div class="down-content">
                <!-- <h4>Manual Item Input</h4> -->
                <p class="itopara">Back Order </p>
                <!-- <button type="button" id="eleinp" class="btn btn-success ">Manual Item Input</button> -->
                <a  class="form-control btn btn-success bto priconf" id="eleinp" href="#VitrosX1"  data-toggle="tab">Show Back Order</a>
              </div>
            </div>
            <div class="item ito">
              <div class="icon985">
                <img class="iconimg" src="{%static 'secproject/assets/images/invoice.png' %}" alt="">
              </div>
              <div class="down-content">
                <!-- <h4>Manual Item Input</h4> -->
                <p class="itopara">Back Order Invoice </p>
                <!-- <button type="button" id="eleinp" class="btn btn-success ">Manual Item Input</button> -->
                <a  class="form-control btn btn-success bto Inv" id="eleinp" href="#VitrosX1"  data-toggle="tab">show Back Order Invoice</a>
              </div>
            </div>
            <div class="item ito">
              <div class="icon">
                <img class="iconimg" src="{%static 'secproject/assets/images/files.png' %}" alt="">
              </div>
              <div class="down-content">
                <!-- <h4>Manual Item Input</h4> -->
                <p class="itopara">Order Files </p>
                <!-- <button type="button" id="eleinp" class="btn btn-success ">Manual Item Input</button> -->
                <a  class="form-control btn btn-success bto" id="ordfiles" href="#files"  data-toggle="tab">Show Order Files</a>
              </div>
            </div>
            
            
          </div>
        </div>
        </div>
       
    </div>
  </section>
  <section class="our-courses" id="courses19">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="section-heading ordo">
            <h2>Shipping Orders  <i class="fa-solid fa-bars" id="pagesorders" style="color: #ffffff;"></i></h2>
          </div>
        </div>
        <div class="col-lg-12">
          <div class="owl-service-item owl-carousel shippo">
              
            
          </div>
          <div class="vendoshippo"></div>
        </div>
      </div>
    </div>
  </section>

  <section class="our-facts" id="facts">
    <div class="container">
      <div class="row">
        <div class="col-lg-6">
          <div class="row">
            <div class="col-lg-12">
              <h2>A Few Facts About Our Company</h2>
            </div>
            <div class="col-lg-6">
              <div class="row">
                <div class="col-12">
                  <div class="count-area-content percentage">
                    <div class="count-digit" id="percord"></div>
                    <div class="count-title" >Succesed Orders</div>
                  </div>
                </div>
                <div class="col-12">
                  <div class="count-area-content">
                    <div class="count-digit" id="compord"></div>
                    <div class="count-title" >Completed Orders</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="row">
                <div class="col-12">
                  <div class="count-area-content new-students">
                    <div class="count-digit"id="pendpord"></div>
                    <div class="count-title" >Pending Orders</div>
                  </div>
                </div> 
                <div class="col-12">
                  <div class="count-area-content">
                    <div class="count-digit" id="alltests"></div>
                    <div class="count-title" >Total Items</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div> 
        <div class="col-lg-6 align-self-center">
          <div class="video">
            <img class="diasyphoto" alt="">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- <section class="contact-us" id="contact">
    <div class="container">
      <div class="row">
        <div class="col-lg-9 align-self-center">
          <div class="row">
            <div class="col-lg-12">
              <form id="contact" action="" method="post">
                <div class="row">
                  <div class="col-lg-12">
                    <h2>Let's get in touch</h2>
                  </div>
                  <div class="col-lg-4">
                    <fieldset>
                      <input name="name" type="text" id="name" placeholder="YOURNAME...*" required="">
                    </fieldset>
                  </div>
                  <div class="col-lg-4">
                    <fieldset>
                    <input name="email" type="text" id="email" pattern="[^ @]*@[^ @]*" placeholder="YOUR EMAIL..." required="">
                  </fieldset>
                  </div>
                  <div class="col-lg-4">
                    <fieldset>
                      <input name="subject" type="text" id="subject" placeholder="SUBJECT...*" required="">
                    </fieldset>
                  </div>
                  <div class="col-lg-12">
                    <fieldset>
                      <textarea name="message" type="text" class="form-control" id="message" placeholder="YOUR MESSAGE..." required=""></textarea>
                    </fieldset>
                  </div>
                  <div class="col-lg-12">
                    <fieldset>
                      <button type="submit" id="form-submit" class="button">SEND MESSAGE NOW</button>
                    </fieldset>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="col-lg-3">
          <div class="right-info">
            <ul>
              <li>
                <h6>Phone Number</h6>
                <span>012-328-0810</span>
              </li>
              <li>
                <h6>Email Address</h6>
                <span>ABC@labtop.com</span>
              </li>
              <!-- <li>
                <h6>Street Address</h6>
                <span>Rio de Janeiro - RJ, 22795-008, Brazil</span>
              </li>
              <li>
                <h6>Website URL</h6>
                <span>www.meeting.edu</span>
              </li> -->
            </ul>
          </div>
        </div>
      </div>
    </div>

  </section>
  {% endblock %}
  
  {% block script %}

<!-- orders Files -->

<script>
    $("#ordfiles").click(function(){  
        $("#files").css("display", "inline");  
    $.ajax({
            type: 'GET',
            url: '/getAllOrders/',
            contentType: "text/plain",
            dataType: 'json',
            success: function (arr) {
                console.log(arr)
                deleto()
                for(i=0;i<arr.length;i++){
                    $(".inrordersbtn").append('<button  class="form-control filebtn" value="'+arr[i]+'"  id="filebtn" >'+arr[i]+'</button>')
                }
                $(".filebtn").click(function(){
                    // $(".vitrofiles").remove()
                    $(".createorderdiv").html("");
                    $(".OCdiv").html("");
                    $(".bodydiv").html("");
                    $(".pdfsdiv").html("");             

                    valu = $(this).val()
                    getOrders(valu)
                    getFiles(valu)
                    getconfirmation(valu)
                   
                })                                 
            },
        });
})
function getOrders(valu){
    
    $.ajax({
            type: 'GET',
            url: '/getOrders/',
            contentType: "text/plain",
            data:{
                'valu':valu
            },
            dataType: 'json',
            success: function (arra) {
               
                for(i=0;i<arra.length;i++){
                    name=arra[i].slice(20,)
                    // $(".OCdiv").append('<button  class="form-control btn btn-primary filebtn" value="'+arra[i]+'"  id="filebtn" >'+arra[i].slice(18,)+'</button>')
                    $(".createorderdiv ").append('<a href="'+arra[i]+'" class="pdfurl" target="blank">'+name+'</a>')
                }
                $(".filebtn").click(function(){
                    // $(".bodydiv").load(" .bodydiv > *");
                    valu = $(this).val()
                })                               
            },
        });
}
function getFiles(valu){
    
    $.ajax({
            type: 'GET',
            url: '/OrdersFiles/',
            contentType: "text/plain",
            data:{
                'valu':valu
            },
            dataType: 'json',
            success: function (arra) {
                for(i=0;i<arra.length;i++){
                    $(".bodydiv").append('<button  class="form-control btn btn-primary invnumber" value="'+arra[i]+'"  id="invnumber" >'+arra[i]+'</button>')
                }
                $(".invnumber").click(function(){
                    // $(".pdfsdiv").load(" .pdfsdiv > *");
                    $(".pdfsdiv").html(""); 
                    valas = $(this).val()
                    console.log(valas)
                    invoices(valas)
                })                               
            },
        });
}
function invoices(valas){
    $.ajax({
            type: 'GET',
            url: '/Ordersinvoices/',
            contentType: "text/plain",
            data:{
                'valas':valas
            },
            dataType: 'json',
            success: function (arra) {
                for(i=0;i<arra.length;i++){
                    name = arra[i].slice(28,)
                    // $(".pdfsdiv ").append('<button  class="form-control btn btn-primary invnumber" value="'+arra[i]+'"  id="invnumber" >'+arra[i]+'</button>')
                    // $(".pdfsdiv ").append('<embed src="12301500301475 certified documents.pdf" type="application/pdf" width="100%" height="600px" />')
                    $(".pdfsdiv ").append('<a href="'+arra[i]+'" class="pdfurl" target="blank"><big></big>'+name+'</a>')
                }
                $(".invnumber").click(function(){
                    valas = $(this).val()
                    console.log(valu)
                    
                })                               
            },
        });
}
function getconfirmation(valu){
    
    $.ajax({
            type: 'GET',
            url: '/getconfirmations/',
            contentType: "text/plain",
            data:{
                'valu':valu
            },
            dataType: 'json',
            success: function (arra) {
                  
                for(i=0;i<arra.length;i++){
                    name=arra[i].slice(18,)
                    // $(".OCdiv").append('<button  class="form-control btn btn-primary filebtn" value="'+arra[i]+'"  id="filebtn" >'+arra[i].slice(18,)+'</button>')
                    $(".OCdiv ").append('<a href="'+arra[i]+'" class="pdfurl" target="blank">'+name+'</a>')
                }
                $(".filebtn").click(function(){
                    deleto()
                    // $(".bodydiv").load(" .bodydiv > *");
                    valu = $(this).val()
                })                               
            },
        });
}
function deleto(){
    $(".awsmo").click(function(){    
        $("#files").addClass('animate__animated animate__fadeOut');
            setTimeout(function() {
                $("#files").remove() 
                $("#files").load(" #files > *");
                $("#allcontent").load(" #allcontent > *");
                                }, 500,);
    })
}
</script>

<!-- ////////////////// in progress  //////////////////////////////  -->
  <script>
        $(".shippo").append('<div class="progressdiv animate__animated animate__fadeIn"><div class="tabdiv"> <div class="tabinrdiv"> <table id="example100" class="display nowrap" style="width:100%"><thead><tr>  <th>id</th> <th>PO</th>    <th>Company Name</th>   <th>Invoice Number</th>          <th>Import Approval</th> <th>Ok To Ship</th> <th>Shipping Date</th>  <th>Shipping Cond</th> <th>Arrival Date</th> <th>EDA Date</th> <th>Tech. Date</th> <th>EDA Release Date</th>  </tr></tr></thead><tbody class="tred" ></tbody><tfoot><tr> <th>id</th>  <th>PO</th>    <th>Company Name</th>   <th>Invoice Number</th>          <th>Import Approval</th> <th>Ok To Ship</th> <th>Shipping Date</th>  <th>Shipping Cond</th> <th>Arrival Date</th> <th>EDA Date</th> <th>Tech. Date</th> <th>EDA Release Date</th>          </tr></tfoot></table></div></div> </div>')
        console.log("MOH")
        $('#example100').DataTable( {
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
        } );

        $.ajax({
            type: 'GET',
            url: '/progressTable/',
            contentType: "text/plain",
            dataType: 'json',
            success: function (response) {
                console.log(response)
                populateDataTable(response);                                
            },
        });



    function populateDataTable(response) {
        var table = $('#example100').DataTable();
        $('#example100 tbody').on('click', 'tr', function () {
            var dat = table.row(this).data();
            console.log(dat[4])
            da = dat[1]
            invda = dat[3]
            da_id = dat[0]
            $.ajax({
                url: '/iteminInvoice/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                data:{
                        'invda':invda,
                        'da':da,
                    },
                success: function(arr){
                    $(".secdivo").remove()
                    console.log(arr)
                    for(i=0 ; i<arr.length ; i++){
                        $(".arrcontain1").append('<div class="secdivo">  <h1 class="items bb">'+arr[i]+'</h1>  </div> ')
                        }
                    },
                
            });

            if ($(this).hasClass('selected')) {
                
                $(".progressdiv").append('<div class="paraInput animate__animated animate__fadeIn"> <div class="inrInput">  <div class="form-group ico"><label class="prag2" for="companyName">Import Approval</label><select class="form-control Importo" val="--Please choose an option--" id="ImportApproval" name="ImportApproval_Item"><option id="typeOfAnalyzerOpt" >--Please choose an option--</option><option id="typeOfAnalyzerOpt" >Approved</option><option id="typeOfAnalyzerOpt" >Canceled</option></select></div><div class="form-group ico"><label class="prag2" for="typeOfAnalyzer">Ok To Ship</label><select class="form-control" id="OktOShip" name="OktOShip_Item" required ><option id="typeOfAnalyzerOpt" >--Please choose an option--</option><option id="typeOfAnalyzerOpt" >OK</option><option id="typeOfAnalyzerOpt" >Cancel</option></select></div><div class="form-group ico"><label class="prag2" for="ShippingDato">Shipping Date</label><input type="date" class="form-control"  name="ShippingDato_item" id="ShippingDato"  required /></div> <div class="form-group ico"><label class="prag2" for="Dato">Shipping Cond.</label><select class="form-control" id="ShippingCond" name="ShippingCond_Item" required ><option id="typeOfAnalyzerOpt" >--Please choose an option--</option><option id="typeOfAnalyzerOpt" >Normal Temperature</option><option id="typeOfAnalyzerOpt" >Refrigrated</option><option id="typeOfAnalyzerOpt" >Frozen</option></select></div>         <div class="form-group ico"><label class="prag2" for="arrivDato">Arrival Date</label><input type="date" class="form-control"  name="Dato_item" id="arrivDato"  required /></div><div class="form-group ico"><label class="prag2" for="EDADato">EDA Date</label><input type="date" class="form-control"  name="EDADato_item" id="EDADato"  required /></div><div class="form-group ico"><label class="prag2" for="TechDato">Tech. Date</label><input type="date" class="form-control"  name="TechDato_item" id="TechDato"  required /></div><div class="form-group ico"><label class="prag2" for="EDAReleaseDato">EDA Release Date</label><input type="date" class="form-control"  name="EDAReleaseDato_item" id="EDAReleaseDatoDato"  required /></div>    <div class="buttons1"><button id="editcancel" type="button" class="editcancel btn btn-danger vlc"  >Cancel</button> <button id="editedit" type="button" class="editedit btn btn-warning vlc"  >Edit</button> <button id="editInput19" type="button" class="editInput19 btn btn-success vlc"  >Save</button></div> </div>   </div>')

                if(dat[4] != (null && "--Please choose an option--")){
                    $("#ImportApproval").val(dat[4])
                    $("#ImportApproval").attr("disabled", true)
                }
                if(dat[5] != (null && "--Please choose an option--")){
                    $("#OktOShip").attr("disabled", true)
                    $("#OktOShip").val(dat[5])
                }
                if(dat[6] != null){
                    $("#ShippingDato").attr("disabled", true)
                    $("#ShippingDato").val(dat[6])
                }
                if(dat[7] != (null && "--Please choose an option--")){
                    $("#ShippingCond").val(dat[7])
                    $("#ShippingCond").attr("disabled", true)
                }
                if(dat[8] != null){
                    $("#arrivDato").val(dat[8])
                    $("#arrivDato").attr("disabled", true)
                }
                if(dat[9] != null){
                    $("#EDADato").val(dat[9])
                    $("#EDADato").attr("disabled", true)
                }
                if(dat[10] != null){
                    $("#TechDato").val(dat[10])
                    $("#TechDato").attr("disabled", true)
                }
                if(dat[11] != null){
                    $("#EDAReleaseDatoDato").val(dat[11])
                    $("#EDAReleaseDatoDato").attr("disabled", true)
                }
                

                $(".editcancel").click(function(){
                    $(".paraInput").addClass('animate__animated animate__fadeOut');
                    setTimeout(function() { 
                        $(".paraInput").remove()
                                        }, 500,);
                })
                
                $(".editedit").click(function(){
                    $("#ImportApproval").attr("disabled", false)
                    $("#OktOShip").attr("disabled", false)
                    $("#ShippingDato").attr("disabled", false)
                    $("#ShippingCond").attr("disabled", false)
                    $("#arrivDato").attr("disabled", false)
                    $("#EDADato").attr("disabled", false)
                    $("#TechDato").attr("disabled", false)
                    $("#EDAReleaseDatoDato").attr("disabled", false)
                });

                $(".editInput19").click(function(){
                    importval = $("#ImportApproval").val()
                    OkToShipval = $("#OktOShip").val()
                    shipval = $("#ShippingDato").val()
                    shipcondval = $("#ShippingCond").val()
                    arrivdateval = $("#arrivDato").val()
                    EDAdatval = $("#EDADato").val()
                    techval = $("#TechDato").val()
                    edareleaseval = $("#EDAReleaseDatoDato").val()


                
                $.ajax({
                    url: '/editship/', // <-- point to server-side PHP script
                    dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                    data:{
                            'da_id':da_id,
                            'da':da,
                            'importval':importval,
                            'OkToShipval':OkToShipval,
                            'shipval':shipval,
                            'shipcondval':shipcondval,
                            'arrivdateval':arrivdateval,
                            'EDAdatval':EDAdatval,
                            'techval':techval,
                            'edareleaseval':edareleaseval,
                        },
                    success: function(ordNumber){
                        console.log(ordNumber)
                        $(".paraInput").addClass('animate__animated animate__fadeOut');
                            setTimeout(function() { 
                                $(".paraInput").remove()
                                $(".arrcontain").remove()
                                
                                

                                        }, 500,);
                        },
                    
                });

            })

                $(this).removeClass('selected');
            } else {
                table.$('tr.selected').removeClass('selected');
                $(this).addClass('selected');
            }
            
            
        });
                
        $("#example100").DataTable().clear();
        var length = Object.keys(response.data).length;
        var table = $('#example100').DataTable();
        
        for(var i = 0; i < length; i++) {
            var customer = response.data[i];
            $('#example100').dataTable().fnAddData( [
                customer.id,
                customer.PO,
                customer.Item_Model_compName,
                customer.InvNumber,
                customer.ImportApproval,
                customer.OkToShip,
                customer.ShippingDate,
                customer.ShippingCond,
                customer.ArrivalDate,
                customer.EDADate,
                customer.TechDate,
                customer.EDAReleaseDate,
            ]);
        }
    }  

</script>  
<!-- facts about company -->
<script>
  



  $.ajax({
        url: '/itemsnumbers/', // <-- point to server-side PHP script
        dataType:  'json',  // <-- what to expect back from the PHP script, if anything
        success: function(Response){
            
            $("#percord").html(Response.perc)
            $("#compord").html(Response.arr_ok.length)
            $("#pendpord").html(Response.arr_pending.length)
            $("#alltests").html(Response.allItems)
            }
        
    });
</script>
<!-- everything about Orders card -->
<script>
  $(document).ready(function(){


    $.ajax({
        url: '/getOreders/', // <-- point to server-side PHP script
        dataType:  'json',  // <-- what to expect back from the PHP script, if anything
        success: function(arrayOfNames){
            allOrders(arrayOfNames)
            }
        
    });
    
        
    function allOrders(arrayOfNames){
        var j=0;          
        len = arrayOfNames.length
        for(i=0 ; i<len/7 ; i++){
            if( arrayOfNames[j+6] != "OK"){
              $(".undero1").append('<div class="item"><div id="cardo2" class="card  bg-warning item"   ><div class="card-body"><h5   class="card-title headoro">'+arrayOfNames[j]+'</h5><p id="cardh" class="card-text">'+arrayOfNames[j+1]+'</p></div><ul class="list-group list-group-flush"><li id="cardli" class="list-group-item">'+arrayOfNames[j+2]+'</li><li id="cardli" class="list-group-item">'+arrayOfNames[j+3]+'</li><li id="cardli" class="list-group-item">'+arrayOfNames[j+4]+'</li><li id="cardli" class="list-group-item">'+arrayOfNames[j+5]+'</li><li id="cardli" class="list-group-item">'+arrayOfNames[j+6]+'</li></ul><div id="btndiv2" class="card-body btndiv2"><button data-value="'+arrayOfNames[j+1]+'"   type="button" id="ordersbtn2" class="btn btn-warning  undertestbtn9030">open</button>   <button data-value="'+arrayOfNames[j+1]+'"  id="contbtn2" class="btn btn-success confbtn9" type="button">Confermations</button> </div></div></div>')   
            }
            j = j+7
        }
        $("#pagesorders").click(function(){
              $("#pagesorders").css("display", "none");
              $(".vendo").addClass('down-content');
              $(".vendo").append('<div id="outrdiv7896"  class=" animate__animated animate__fadeIn"><div id="confdiv12345"><button type="button" id="closo1" class="clsoss" >close</button> <div class="AllOkDiv">       </div></div></div>')
               var k = 0;
              for(l=0 ; l<len/7 ; l++){
                  if( arrayOfNames[k+6] == "OK"){
                          $(".AllOkDiv").append('<div class="item"><div id="cardo2" class="card  bg-success item"   ><div class="card-body"><h5   class="card-title headoro">'+arrayOfNames[k]+'</h5><p id="cardh" class="card-text">'+arrayOfNames[k+1]+'</p></div><ul class="list-group list-group-flush"><li id="cardli" class="list-group-item">'+arrayOfNames[k+2]+'</li><li id="cardli" class="list-group-item">'+arrayOfNames[k+3]+'</li><li id="cardli" class="list-group-item">'+arrayOfNames[k+4]+'</li><li id="cardli" class="list-group-item">'+arrayOfNames[k+5]+'</li><li id="cardli" class="list-group-item">'+arrayOfNames[k+6]+'</li></ul><div id="btndiv2" class="card-body btndiv2"><button data-value="'+arrayOfNames[k+1]+'"   type="button" id="ordersbtn1" class="btn btn-success  undertestbtn">open</button>   <button data-value="'+arrayOfNames[k+1]+'" id="contbtn4" class="btn btn-success confbtn" type="button">Confermations</button> </div></div></div>')   
                      }
                  k = k+7
              }
              $(".clsoss").click(function(){
                  $("#pagesorders").css("display", "inline");
                  $("#outrdiv7896").remove()
                  $("#outrdiv7896").addClass('animate__animated animate__fadeOut');
                  setTimeout(function() { 
                      $(".vendo").load(" .vendo > *");
                  }, 1000,);
              });
              
              
              // <!-- to view items in order 

              $(".undertestbtn").click(function(){
              itemId = this.getAttribute("data-value")
              $(".vendo").append('<div id="containercardoitem" class=" animate__animated animate__fadeIn" ><div id="btnd"><button type="button" id="closo63" class="closo">close</button></div><div  id="con"></div></div>')   

              $.ajax({
                url: '/getOrderElements/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                data:{
                    'itemId':itemId
                },
                success: function(arr){
                    arrlen = arr.length
                    a=0;
                    for(i=0 ; i<arrlen/9 ; i++){
                        if( arr[a+6] == "OK"){
                            $("#con").append('<div id="cardo6" class="card  bg-success"   ><div class="card-body"><h5   class="card-title headoro">'+arr[a]+'</h5><p id="cardh" class="card-text">'+arr[a+1]+'</p></div><ul class="list-group list-group-flush"><li id="cardli" class="list-group-item">'+arr[a+2]+'</li><li id="cardli" class="list-group-item">'+arr[a+3]+'</li><li id="cardli" class="list-group-item">'+arr[a+4]+'</li><li id="cardli" class="list-group-item">'+arr[a+5]+'</li><li id="cardli" class="list-group-item">'+arr[a+6]+'</li><li id="cardli" class="list-group-item">'+arr[a+7]+'</li></ul><div id="btndiv" class="card-body"><button data-value="'+arr[a+8]+'" data-value1="'+arr[a+3]+'" id="contbtn" class="btn btn-success undertestbtn1" type="button">open</button>    </div></div>')   
                            a = a+9
                        }
                    }
                    $(".closo").click(function(){
                        $("#containercardoitem").addClass('animate__animated animate__fadeOut');
                        setTimeout(function() { 
                            $("#containercardoitem").remove()
                        }, 1000,);
                        
                    });
                    
                    
                    $(".undertestbtn1").click(function(){
                        
                        $(".vendo").append('<div id="outrdiv111" class=" animate__animated animate__fadeIn"><div id="confdiv1234"><button type="button" id="closo1" class="clsoso" >close</button><div id="tablediv"><table id="example96" class="display nowrap" style="width:100%"><thead><tr><tr>   <th>Date</th>  <th>Order Number</th>  <th>Confermation Number</th>  <th>Company Name</th>       <th>Element Name</th>  <th>Cat. Number</th> <th>Batch Number</th> <th>Expiry Date</th>  <th>QTY In Packs</th>    <th>QTY In Slides</th>                         <th>Status</th></tr></tr></thead><tbody ></tbody><tfoot><tr><th>Date</th>   <th>Order Number</th> <th>Confermation Number</th>   <th>Company Name</th>       <th>Element Name</th>  <th>Cat. Number</th> <th>Batch Number</th> <th>Expiry Date</th> <th>QTY In Packs</th>    <th>QTY In Slides</th>                         <th>Status</th></tr></tfoot></table></div></div></div>')

                        val = this.getAttribute("data-value")
                        val1 = this.getAttribute("data-value1")

                        $('#example96').DataTable( {
                        dom: 'Bfrtip',
                        buttons: [
                            'copy', 'csv', 'excel', 'pdf', 'print'
                            
                        ]
                        
                        } );

                        $.ajax({
                            type: 'GET',
                            url: '/confJson/',
                            contentType: "text/plain",
                            dataType: 'json',
                            data:{
                                'val':val,
                                'val1':val1,
                            },
                            success: function (response6) {
                                populateDataTabledone(response6);                                
                            },
                        });
                        $(".clsoso").click(function(){
                            $("#outrdiv111").addClass('animate__animated animate__fadeOut');
                            setTimeout(function() { 
                                $("#outrdiv111").remove()
                            }, 1000,);
                        });
                    });         
                }
            });
            
              
        });    

               // <!-- to view confirmation items in order 

              $("#contbtn4").click(function(){
            itemId = this.getAttribute("data-value")
            console.log(itemId)
            $.ajax({
                url: '/getAllConf/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                data:{
                    'itemId':itemId
                },
                success: function(response199){
                    $(".vendo").append('<div id="outrdiv888" class=" animate__animated animate__fadeIn"><div id="confdiv1234"><button type="button" id="closo1" class="closs" >close</button><div id="tablediv"><table id="example198" class="display nowrap" style="width:100%"><thead><tr><tr>   <th>Date</th> <th>Order Number</th> <th>Confirmation Number</th>   <th>Company Name</th><th>Item Name</th>     <th>Cat. Number</th> <th>Batch Number</th> <th>Expiry Date</th> <th>QTY In Packs</th>      <th>QTY In Slides</th>                        </tr></tr></thead><tbody ></tbody><tfoot><tr><th>Date</th>   <th>Order Number</th> <th>Confirmation Number</th> <th>Company Name</th><th>Item Name</th>   <th>Cat. Number</th> <th>Batch Number</th>  <th>Expiry Date</th> <th>QTY In Slides</th>               <th>Price</th>          </tr></tfoot></table></div></div></div>')

                    $('#example198').DataTable( {
                        dom: 'Bfrtip',
                        order: [0, 'desc'],
                        buttons: [
                            'copy', 'csv', 'excel', 'pdf', 'print'
                        ]
                    } );
                    populateDataTabledone1(response199);
                    
                    $(".closs").click(function(){
                      
                        $("#outrdiv888").addClass('animate__animated animate__fadeOut');
                        setTimeout(function() { 
                            $("#outrdiv888").remove()
                        }, 1000,);
                        $("#confdiv1234").load(" #confdiv1234 > *");
                    
                    }); 
                }
            });
        });

              
          });
              
        $(".undertestbtn9030").click(function(){
              itemId = this.getAttribute("data-value")
            $(".shadow1").append('<div id="containercardo" class=" animate__animated animate__fadeIn" ><div id="btnd"><button type="button" id="closo" class="closewa">close</button></div><div  id="con"></div></div>')   

            $.ajax({
                url: '/getOrderElements/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                data:{
                    'itemId':itemId
                },
                success: function(arr){
                    console.log(arr)
                    arrlen = arr.length
                    a=0;
                    for(i=0 ; i<arrlen/9 ; i++){
                        if( arr[a+6] == "OK"){
                            $("#con").append('<div id="cardo1" class="card  bg-success"   ><div class="card-body"><h5   class="card-title headoro">'+arr[a]+'</h5><p id="cardh" class="card-text">'+arr[a+1]+'</p></div><ul class="list-group list-group-flush"><li id="cardli" class="list-group-item">'+arr[a+2]+'</li><li id="cardli" class="list-group-item">'+arr[a+3]+'</li><li id="cardli" class="list-group-item">'+arr[a+4]+'</li><li id="cardli" class="list-group-item">'+arr[a+5]+'</li><li id="cardli" class="list-group-item">'+arr[a+6]+'</li><li id="cardli" class="list-group-item">'+arr[a+7]+'</li></ul><div id="btndiv" class="card-body"><button data-value="'+arr[a+8]+'" data-value1="'+arr[a+3]+'" id="contbtn" class="btn btn-success undertestbtn1" type="button">open</button>    </div></div>')   
                            a = a+9
                        }
                        else{
                            console.log(a,i)
                            $("#con").append('<div id="cardo1" class="card  bg-warning"   ><div class="card-body"><h5   class="card-title headoro">'+arr[a]+'</h5><p id="cardh" class="card-text">'+arr[a+1]+'</p></div><ul class="list-group list-group-flush"><li id="cardli" class="list-group-item">'+arr[a+2]+'</li><li id="cardli" class="list-group-item">'+arr[a+3]+'</li><li id="cardli" class="list-group-item">'+arr[a+4]+'</li><li id="cardli" class="list-group-item">'+arr[a+5]+'</li><li id="cardli" class="list-group-item">'+arr[a+6]+'</li><li id="cardli" class="list-group-item">'+arr[a+7]+'</li></ul><div id="btndiv" class="card-body"><button data-value="'+arr[a+8]+'" data-value1="'+arr[a+3]+'" id="contbtn" class="btn btn-warning undertestbtn1" type="button">open</button></div></div>')   
                            a = a+9
                        }
                    }
                    $(".closewa").click(function(){
                      console.log("Moh")
                        $("#containercardo").addClass('animate__animated animate__fadeOut');
                        setTimeout(function() { 
                            $("#containercardo").remove()
                        }, 1000,);
                        
                    });
                    $(".undertestbtn1").click(function(){
                        
                        $(".vendo").append('<div id="outrdiv" class=" animate__animated animate__fadeIn"><div id="confdiv1234"><button type="button" id="closo1" >close</button><div id="tablediv"><table id="example" class="display nowrap" style="width:100%"><thead><tr><tr>   <th>Date</th>  <th>Order Number</th>  <th>Confermation Number</th>  <th>Company Name</th>       <th>Element Name</th>  <th>Cat. Number</th> <th>Batch Number</th> <th>Expiry Date</th>  <th>QTY In Packs</th>    <th>QTY In Slides</th>                         <th>Status</th></tr></tr></thead><tbody ></tbody><tfoot><tr><th>Date</th>   <th>Order Number</th> <th>Confermation Number</th>   <th>Company Name</th>       <th>Element Name</th>  <th>Cat. Number</th> <th>Batch Number</th> <th>Expiry Date</th> <th>QTY In Packs</th>    <th>QTY In Slides</th>                         <th>Status</th></tr></tfoot></table></div></div></div>')

                        val = this.getAttribute("data-value")
                        val1 = this.getAttribute("data-value1")

                        $('#example').DataTable( {
                        dom: 'Bfrtip',
                        buttons: [
                            'copy', 'csv', 'excel', 'pdf', 'print'
                            
                        ]
                        
                        } );

                        $.ajax({
                            type: 'GET',
                            url: '/confJson/',
                            contentType: "text/plain",
                            dataType: 'json',
                            data:{
                                'val':val,
                                'val1':val1,
                            },
                            success: function (response) {
                                populateDataTable123(response);                                
                            },
                        });
                        $("#closo1").click(function(){
                            $("#outrdiv").addClass('animate__animated animate__fadeOut');
                            setTimeout(function() { 
                                $("#outrdiv").remove()
                            }, 1000,);
                        });
                    });         
                }
            });
            
              
        });
        
        $(".confbtn9").click(function(){
            
            itemId = this.getAttribute("data-value")
            console.log(itemId)
            $.ajax({
                url: '/getAllConf/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                data:{
                    'itemId':itemId
                },
                success: function(response1){
                    
                    $(".vendo").append('<div id="outrdiv" class=" animate__animated animate__fadeIn"><div id="confdiv1234"><button type="button" id="closo1" >close</button><div id="tablediv"><table id="example1" class="display nowrap" style="width:100%"><thead><tr><tr>   <th>Date</th> <th>Order Number</th> <th>Confirmation Number</th>   <th>Company Name</th><th>Analyzer Type</th>       <th>Element Name</th>  <th>Cat. Number</th>  <th>QTY In Packs</th>    <th>QTY In Slides</th>      <th>Price</th>                     </tr></tr></thead><tbody ></tbody><tfoot><tr><th>Date</th>   <th>Order Number</th> <th>Confirmation Number</th> <th>Company Name</th><th>Analyzer Type</th>       <th>Element Name</th>  <th>Cat. Number</th>  <th>QTY In Packs</th>    <th>QTY In Slides</th>           <th>Price</th>          </tr></tfoot></table></div></div></div>')

                    $('#example1').DataTable( {
                        dom: 'Bfrtip',
                        order: [0, 'desc'],
                        buttons: [
                            'copy', 'csv', 'excel', 'pdf', 'print'
                        ]
                    } );
                    
                    populateDataTable1(response1);
                    
                    console.log(response1)
                    $("#closo1").click(function(){
                        $("#outrdiv").addClass('animate__animated animate__fadeOut');
                        setTimeout(function() { 
                            $("#outrdiv").remove()
                        }, 1000,);
                    
                    }); 
                }
            });
        });
    }

  });
  </script>
<!-- function get accepted conirmation table  Done -->
<script>
  function populateDataTabledone(response6) {
      $('#example96 tbody').on('click', 'tr', function () {
          if ($(this).hasClass('selected')) {
              $(this).removeClass('selected');
          } else {
              table.$('tr.selected').removeClass('selected');
              $(this).addClass('selected');
          }
      });
      
      $("#example96").DataTable().clear();
      var length = Object.keys(response6.data).length;
      var table = $('#example96').DataTable();
      
      for(var i = 0; i < length; i++) {
          var customer5 = response6.data[i];
          console.log(customer5)
          $('#example96').dataTable().fnAddData( [
              customer5.dat,
              customer5.orderNum,
              customer5.ConfNum,
              customer5.Item_Model_compName,
              
              customer5.ElementName,
              customer5.CatNumber,
              customer5.BatchNumber,
              customer5.ExpiryDate,
              customer5.QTY,
              customer5.SlidesQTY,
              
              customer5.status,
              
          ]);
      }
  }                        
</script>
<!-- function get accepted conirmation table  Done1 -->
<script>
  function populateDataTabledone1(response199) {
      $('#example198 tbody').on('click', 'tr', function () {
          
          if ($(this).hasClass('selected')) {
              $(this).removeClass('selected');
          } else {
              table.$('tr.selected').removeClass('selected');
              $(this).addClass('selected');
          }
      });
      $("#example198").DataTable().clear();
      var length = Object.keys(response199.data1).length;
      var table = $('#example198').DataTable();
      for(var i = 0; i < response199.data1.length; i++) {
          var customer = response199.data1[i];
          $('#example198').dataTable().fnAddData( [
              customer.dat,
              customer.orderNum,
              customer.ConfNum,
              customer.Item_Model_compName,
              customer.ElementName,
              customer.CatNumber,   
              customer.BatchNumber,
              customer.ExpiryDate,
              customer.QTY,
              customer.SlidesQTY,            
          ]);
      }
  }                        
</script>
<!-- function get accepted conirmation table   -->
<script>
    function populateDataTable123(response) {
      console.log(response)
        $('#example tbody').on('click', 'tr', function () {
            
            if ($(this).hasClass('selected')) {
                $(this).removeClass('selected');
            } else {
                table.$('tr.selected').removeClass('selected');
                $(this).addClass('selected');
            }
        });
        
        $("#example").DataTable().clear();
        var length = Object.keys(response.data).length;
        var table = $('#example').DataTable();
        
        for(var i = 0; i < length; i++) {
            var customer = response.data[i];
            console.log(customer)
            $('#example').dataTable().fnAddData( [
                customer.dat,
                customer.orderNum,
                customer.ConfNum,
                customer.Item_Model_compName,
                
                customer.ElementName,
                customer.CatNumber,
                customer.BatchNumber,
                customer.ExpiryDate,
                customer.QTY,
                customer.SlidesQTY,
                
                customer.status,
                
            ]);
        }
    }                        
</script>
  <!-- function get accepted conirmation table   -->
<script>
    function populateDataTable1(response1) {
        
        $('#example1 tbody').on('click', 'tr', function () {
            
            if ($(this).hasClass('selected')) {
                $(this).removeClass('selected');
            } else {
                table.$('tr.selected').removeClass('selected');
                $(this).addClass('selected');
            }
        });
               
        $("#example1").DataTable().clear();
        var length = Object.keys(response1.data1).length;
        var table = $('#example1').DataTable();

        for(var i = 0; i < length; i++) {
            var customer9 = response1.data1[i];
            
            $('#example1').dataTable().fnAddData( [
              customer9.dat,
              customer9.orderNum,
              customer9.ConfNum,
              customer9.Item_Model_compName,
              
              customer9.ElementName,
              customer9.CatNumber,
              customer9.BatchNumber,
              customer9.ExpiryDate,
              customer9.QTY,
              customer9.SlidesQTY,
              
              customer9.status,
            ]);
        }
    }                        
</script>
<!-- excel order buttons -->
<script>
     $.ajax({
        url: '/orderExcels/', 
        dataType:  'json',
        
        success: function(arr){
            l=0;
            for(k=0; k < arr.length;k++){
                $("#conf_btn").append('<button value="'+arr[k]+'" class="btn btn-success excbtn"> '+arr[k]+'</button>')
            }
            $(".excbtn").click(function(){
                
                excOrdNum = $(this).val()
                excOrderNum(excOrdNum)
            })
        }
        });
</script>

<script>
    function excOrderNum(excOrdNum){
        $.ajax({
            url: '/excelbtns/', 
            dataType:  'json',
            data:{
                'excOrdNum':excOrdNum
            },
            success: function(response){
                console.log(response)
                if(response.exc.length == 0){
                    $("#apply").append('<div class="popop">     <div class="innerpop">    <span class="popuptext" id="myPopup">There is no Files for this Order !!</span>   </div>      </div>')
                    $(".body").click(function(){
                        console.log("Moh")
                        $(".popop").remove()
                    })
                }
                else{
                    $(".shadow1").append('<div class="AllConfBtnsDiv">   <div class="conf_btn">  <div class="confs"></div>  <div class="gobak">  <button  id="cancelo" type="button" class="btn btn-danger "  >Close</button>      </div>  </div> <div class="confexc"></div>      </div>')
                    $("#cancelo").click(function(){
                        $(".AllConfBtnsDiv").remove()
                    })
                    l=0;
                    for(k=0; k < response.exc.length/2;k++){
                        $(".confs").append('<button value="'+response.exc[l+1]+'" class="btn btn-success excbtn"> '+response.exc[l].slice(18,)+'</button>')
                        l = l+2
                    }
                    $(".excbtn").click(function(){
                        $("#outrdiv98").remove()
                        excpk = $(this).val()
                        excdata(excpk)
                    })
                }
            }
        });
    }
  
</script>

  <!-- excel functions -->
  <script>
function excdata(excpk){

$.ajax({
    url: '/exceldatatable/', 
    dataType:  'json',
    data:{
        'excpk':excpk,
    },
    success: function(response){
        console.log(response)
        
        
        $(".confexc").append('<div id="outrdiv98" class=" animate__animated animate__fadeIn"><div id="confdiv986" ><button type="button" id="closo12" >close</button><div id="tablediv98"><table id="example23" class="table table-striped" ><thead><tr><tr>  <th>Order Number</th>  <th>PO</th> <th>Matrial</th>    <th>MatDesc</th>       <th>Batch Number</th>   <th>Expiry Date</th> <th>Order QTY</th> <th>CumConfQTY</th> <th>Unit Price</th>                       <th>Net Val</th></tr></tr></thead><tbody ></tbody><tfoot><tr>  <th>Order Number</th>  <th>PO</th>  <th>Matrial</th>  <th>MatDesc</th>       <th>Batch Number</th>   <th>Expiry Date</th> <th>Order QTY</th> <th>CumConfQTY</th> <th>Unit Price</th>                       <th>Net Val</th></tr></tfoot></table></div></div></div>')

        $("#closo12").click(function(){
            
                $("#outrdiv98").addClass('animate__animated animate__fadeOut');
                setTimeout(function() { 
                    $("#outrdiv98").remove()
                    // $("#allcontent").load(" #allcontent > *");
                }, 500,);
            
            });

            
               
        $("#example23").DataTable().clear();
        var length = Object.keys(response.data).length;
        var table = $('#example23').DataTable();
        
        for(var i = 0; i < length; i++) {
            var customer = response.data[i];
            $('#example23').dataTable().fnAddData( [
                customer.OrderNumber,
                customer.PO,
                customer.matrial,
                customer.MatDesc,
                customer.BatchNum,
                customer.ExpiryDate,
                customer.OrderQTY,
                customer.CumConfQTY,
                customer.UnitPrice,
                customer.NetVal,
                
            ]);
        
        }
        $('#example23 tbody').on('click', 'tr', function () {
            
            
            var dat = table.row(this).data();
            console.log(dat)
            var row = $(this).parents('tr');
            table.row(this).remove()
            
            if ($(this).hasClass('selected')) {
                $(this).removeClass('selected');
            } else {
                table.$('tr.selected').removeClass('selected');
                $(this).addClass('selected');
            }
            
            $.ajax({
                url: '/collectinfo/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything
                data:{
                        'ordNumber':dat[1].slice(4,),
                        'matrial':dat[2],
                        'confqty':dat[7],
                    },
                success: function(respone){

                    // if(respone.messa){
                    //     alert("This Catalog Number is Unknown  (not in Database) ")
                    // }
                    // else if(respone.remainingqty){
                        searchdates(dat)
                        console.log("MOH")
                    $("#outrdiv98").append('<div class="outracptdiv"><div class="allacptdiv"><div class="delbtno"><button type="button" id="closo78" >x</button></div><div class="acptdiv"><div class="abovediv"></div><div class="editNumber"><input placeholder="Enter The Required Quantity" class="form-control" id="editnum"/></div> <div class="btnso"><button value="0" id="confcancel" type="button" class="btn btn-danger vlc"  >Reject</button><button value="1" id="confacpt" type="button" class="btn btn-success vlc"  >Accept</button></div></div></div></div>')
                    $(".abovediv").css("display", "none");
                    
                    $("#confcancel").click(function(){
                        canceldata(dat)
                        $(".acptdiv").addClass('animate__animated animate__fadeOut');
                        setTimeout(function() { 
                            $(".acptdiv").remove() 
                        }, 500,);
                    })
                    
                    actNumber = $("#editnum").val()
                    dat[6]=actNumber
                    
                    $("#confacpt").click(function(){
                        savedata(dat)
                        console.log(dat[1].slice(4,))
                        console.log(dat[2])
                        console.log(dat[4])
                        console.log(dat[5].slice(0,10))
                        console.log(dat[7])
                        console.log(dat[8])
                        console.log(dat[9])
                        $(".acptdiv").addClass('animate__animated animate__fadeOut');
                        setTimeout(function() { 
                            $(".acptdiv").remove()
                            $(".outracptdiv").remove()
                        $(".allacptdiv").remove()
                        }, 500,);
                       
                        })
                        
                        $("#closo78").click(function(){
                        $(".allacptdiv").addClass('animate__animated animate__fadeOut');
                        setTimeout(function() { 
                            $(".outracptdiv").remove()
                            // $(".outracptdiv").remove()
                            // $("#allcontent").load(" #allcontent > *");
                        }, 500,);
                        })
                        
                        if ($(row).hasClass('child')) {
                        table.row($(row).prev('tr')).remove().draw();
                        } else {
                        table
                            .row($(this).parents('tr'))
                            .remove()
                            .draw();
                        }
                    }
                    
                    
                    
                    
                    
                    
                
                
            });
            
        });
        
        
    }
    });
}

function savedata(dat){
    ordNumber = dat[1].slice(4,)
    selectedQTY =$("#editnum").val()
    console.log(selectedQTY)
    $.ajax({
        url: '/saveExcelToConf/', // <-- point to server-side PHP script
        dataType:  'json',  // <-- what to expect back from the PHP script, if anything
        data:{
                'selectedQTY':selectedQTY,
                'ordNumber':dat[1].slice(4,),
                'matrial':dat[2],
                'batchnumber':dat[4],
                'expirydate':dat[5].slice(0,10),
                'confqty':dat[7],
                'price':dat[8],
                'netval':dat[9],
            },
        success: function(message){
            if(message){
                alert(message)
            }
            
        },
                
    });
    
    
}

function searchdates(dat){
        $.ajax({
            url: '/getdates/', // <-- point to server-side PHP script
            dataType:  'json',  // <-- what to expect back from the PHP script, if anything
            data:{
                'dateval':dat[5].slice(0,10),
                'ElementNumber2':dat[2],
            },
            success: function(arr){
                if(arr.length>0){
                    $(".abovediv").css("display", "flex");
                setTimeout(function() {
                    $(".abovediv").append(' <h1 id="comh1">There is a newer Expiry Date !!  </h1>    ')
    
                    
                }, 500,);
                }
              
                
            },
        });  
    }
    
  </script>  



<script>
  $("#delconf6").click(function(){
      relo()
  })
</script>  <!-- ////////////////// manual delete confirmation  //////////////////////////////  -->






<!-- ////////////////// Invoice //////////////////////////////  -->

<script>
$("#invoiceinput6").click(function(){
  $("#Invoice1").css("display", "block");
})
</script>   <!-- ////////////////// div diplay  //////////////////////////////  -->

<script>
  $("#progress").click(function(){
      $(".contall").append('<div class="progressdiv animate__animated animate__fadeIn"> <button class="progclose">close</button><div class="tabdiv"> <div class="tabinrdiv"> <table id="example" class="display nowrap" style="width:100%"><thead><tr><tr> <th>ID</th>  <th>PO</th>    <th>Company Name</th><th>Analyzer Type</th>   <th>Invoice Number</th>          <th>Import Approval</th> <th>Ok To Ship</th> <th>Shipping Date</th>  <th>Shipping Cond</th> <th>Arrival Date</th> <th>EDA Date</th> <th>Tech. Date</th> <th>EDA Release Date</th>  </tr></tr></thead><tbody class="tred" ></tbody><tfoot><tr> <th>ID</th>  <th>PO</th>    <th>Company Name</th><th>Analyzer Type</th>   <th>Invoice Number</th>          <th>Import Approval</th> <th>Ok To Ship</th> <th>Shipping Date</th>  <th>Shipping Cond</th> <th>Arrival Date</th> <th>EDA Date</th> <th>Tech. Date</th> <th>EDA Release Date</th>          </tr></tfoot></table></div></div> </div>')

      $('#example').DataTable( {
      dom: 'Bfrtip',
      buttons: [
          'copy', 'csv', 'excel', 'pdf', 'print'
      ]
      } );

      $.ajax({
          type: 'GET',
          url: '/progressTable/',
          contentType: "text/plain",
          dataType: 'json',
          success: function (response) {
              populateDataTable(response);                                
          },
      });

      $(".progclose").click(function(){
          $(".secdivo").remove()
          $(".progressdiv").addClass('animate__animated animate__fadeOut');
          setTimeout(function() { 
              $(".progressdiv").remove()
              
                              }, 500,);
      
  });
      
  })
</script>  <!-- ////////////////// in progress  //////////////////////////////  -->

<script>
  $("#invoiceinput6").click(function(){
      $("#Ordercancel45").click(function(){
          $(".formo12").addClass('animate__animated animate__fadeOut');
          $("#Invoice1").addClass('animate__animated animate__fadeOut');
          
          setTimeout(function() {
              $("#Invoice1").remove() 
              $(".formo12").load(" .formo12 > *");
              $("#Invoice1").load(" #Invoice1 > *");
              $("#allcontent").load(" #allcontent > *");
                              }, 500,);
      
  });
})
</script>   <!-- ////////////////// Invoice form cancel //////////////////////////////  -->

<script>
  $('#orderNumber').keyup("change",function(e){
      searchVal = e.target.value
      console.log(searchVal);

      $.ajax({
      url: '/CheckOrderNum/', // <-- point to server-side PHP script
      dataType:  'json',  // <-- what to expect back from the PHP script, if anything
      data:{
          'searchVal':searchVal
      },
      success: function(message){
          if(message){
          alert(message)
          $("#orderNumber").val("")
      }
          },
      });
  });
</script>  <!-- ////////////////// Check Order Number //////////////////////////////  -->


<script>
$("#invoiceinput6").click(function(){
    $("#orderNumber4").change(function(){
        $("#companyName2").val("")
        $("#typeOfAnalyzer2").val("")
        ordernum = $("#orderNumber4").val()
        $.ajax({
        url: '/getcompanies/', // <-- point to server-side PHP script
        dataType:  'json',  // <-- what to expect back from the PHP script, if anything
        data:{
            'ordernum':ordernum
        },
        success: function(arr){
            console.log(arr)
            j = 0
            for(i=0 ; i<arr.length ; i++){
                $("#companyName4").val(''+arr[j]+'')
                $("#typeOfAnalyzer4").val(''+arr[j+1]+'')
 
            }
            },
        });
    })
});
</script> <!-- ////////////////// company name //////////////////////////////  -->

<script>
$("#invoiceinput6").click(function(){
    var today = new Date();
    var dd = String(today.getDate()).padStart(2, '0');
    var mm = String(today.getMonth() + 1).padStart(2, '0'); 
    var yyyy = today.getFullYear();

    today =yyyy + '-' + mm + '-' + dd ;
    $("#Dato4").val(''+today+'')
});
</script>   <!-- ////////////////// date //////////////////////////////  -->

<script>
$("#invoiceinput6").click(function(){
    $("#confNumber").change(function(){
        // $("#confNumber").val("")
        
        confNum = $("#confNumber").val()
        console.log(confNum)
        $.ajax({
        url: '/showPrices/', // <-- point to server-side PHP script
        dataType:  'json',  // <-- what to expect back from the PHP script, if anything
        data:{
            'confNum':confNum
        },
        success: function(curPrice){
            $("#Price4").val(curPrice)
            },
        });
    })
});
</script> <!-- ////////////////// Confermation Number //////////////////////////////  -->

<script>
$("#invoiceinput6").click(function(){
    $("#confNumber").change(function(){
        // $("#confNumber").val("")
        
        confNum = $("#confNumber").val()
        ordernum = $("#orderNumber4").val()
        $.ajax({
        url: '/InvoiceData/', // <-- point to server-side PHP script
        dataType:  'json',  // <-- what to expect back from the PHP script, if anything
        data:{
            'confNum':confNum,
            'ordernum':ordernum
        },
        success: function(arr){
            console.log(arr)
            $("#ItemNameItem").val(arr[0])
            $("#CatNumberItem").val(arr[1])
            $("#QTYItem").val(arr[2])
            $("#QTYSlidesItem").val(arr[3])
            },
        });
    })
});
</script> <!-- ////////////////// Manual Invoice Data //////////////////////////////  -->

<script>
$("#invoiceinput6").click(function(){
    $("#ship").change(function(){
        // $("#confNumber").load(" #confNumber > *");
        $("#confNumber").html("<option  >--Please choose an option--</option>")
        shipo = $("#ship").val()
        
        ordNum = $("#orderNumber4").val()
        $.ajax({
        url: '/checkShippingCond/', // <-- point to server-side PHP script
        dataType:  'json',  // <-- what to expect back from the PHP script, if anything
        data:{
            'ordNum':ordNum
        },
        success: function(response){
            if (shipo == "Refrigrated"){
                for(i=0 ; i<response.refri.length ; i++){
                    $("#confNumber").append('<option id="companyNameOpt" >'+response.refri[i]+ '</option>')
                }
            }
            if (shipo == "Frozen"){
                for(i=0 ; i<response.freez.length ; i++){
                    $("#confNumber").append('<option id="companyNameOpt" >'+response.freez[i]+ '</option>')
                }
            }
            if (shipo == "Normal Temperture"){
                for(i=0 ; i<response.normalTemp.length ; i++){
                    $("#confNumber").append('<option id="companyNameOpt" >'+response.normalTemp[i]+ '</option>')
                }
            }
            },
        });
    })
});
</script> <!-- ////////////////// check Shipping cond //////////////////////////////  -->


<script>
$("#invoiceinput6").click(function(){

    $("#OrderInput4").click(function(){
        compNam = $("#companyName4").val()
        typAna = $("#typeOfAnalyzer4").val()
        ordNum = $("#orderNumber4").val()
        confNumber = $("#confNumber").val()
        ordDat = $("#Dato4").val()
        InvNum = $("#InvoiceNumber4").val()
        Price = $("#Price4").val()
        catalogNum = $("#CatNumberItem").val()
        
        $.ajax({
            url: '/SavInvoOrder/', // <-- point to server-side PHP script
            dataType:  'json',  // <-- what to expect back from the PHP script, if anything
            data:{
                    'compNam':compNam,
                    'typAna':typAna,
                    'ordNum':ordNum,
                    'ordDat':ordDat,
                    'InvNum':InvNum,
                    'Price':Price,
                    'confNumber':confNumber,
                    'catalogNum':catalogNum,
                },
            
            success: function(){

                $(".formo123").addClass('animate__animated animate__fadeOut');
                    setTimeout(function() { 
                        $(".formo123").load(" .formo123 > *");
                        $("#allcontent").load(" #allcontent > *");
                                    }, 500,);
                
                },
                
            
            });
        });
    
});
</script>  <!-- ////////////////// save Invoice //////////////////////////////  -->

<script>
$(".priconf").click(function(){
    $("#invoicesBtn2").append('<div class="BackOrderdiv animate__animated animate__fadeIn"> <button class="progclose">close</button><div class="backtablediv"> <div class="midbacktablediv"> <div class="inrbacktablediv">  <table id="example" class="table table-striped" style="width:100%"><thead><tr><tr>  <th>Date</th>  <th>Company Name</th>    <th>Analyzer Type</th>       <th>Element Name</th>   <th>Cat. Number</th> <th>QTY in Packs</th> <th>QTY in slides</th> <th>Order Number</th>                       <th>Note</th></tr></tr></thead><tbody ></tbody><tfoot><tr>  <th>Date</th> <th>Company Name</th>   <th>Analyzer Type</th>       <th>Element Name</th> <th>Cat. Number</th> <th>QTY in Packs</th> <th>QTY in Slides</th> <th>Order Number</th>                <th>Note</th></tr></tfoot></table> </div> </div> </</div>div>') 
    
    $.ajax({
            url: '/backOrder/', // <-- point to server-side PHP script
            dataType:  'json',  // <-- what to expect back from the PHP script, if anything               
            success: function(response){
                console.log(response)
                $('#example tbody').on('click', 'tr', function () {
            
                if ($(this).hasClass('selected')) {
                    $(this).removeClass('selected');
                    
                } else {
                    table.$('tr.selected').removeClass('selected');
                    $(this).addClass('selected');
                }
                });
                    
                $("#example").DataTable().clear();
                var length = Object.keys(response.data).length;
                var table = $('#example').DataTable();
                
                for(var i = 0; i < length; i++) {
                    var customer = response.data[i];

                    $('#example').dataTable().fnAddData( [
                        customer.dat,
                        customer.Item_Model_compName,
                        customer.Item_Model_compUnit,
                        customer.ElementName,
                        customer.CatNumber,
                        customer.QTY,
                        customer.SlidesQTY,
                        customer.orderNum,
                        customer.Note,
                    ]);
                
                }
    
                },
            });

    $(".progclose").click(function(){
        $(".BackOrderdiv").addClass('animate__animated animate__fadeOut');
        setTimeout(function() { 
            $(".BackOrderdiv").remove()
                            }, 500,);
    
});
})
</script>    <!-- ////////////////// Back Order //////////////////////////////  -->

<script>
$(".Inv").click(function(){
    $("#invoicesBtn2").append('<div class="Invdiv1 animate__animated animate__fadeIn"> <button class="progclose1">close</button> <div class="allcond">   <input class="form-control" placeholder="Enter Order Number " type="number" id="ordernumber">  <div class="inrcond"> <button class="form-control btn btn-success condbtn" disabled value="1" id="normltemp">Normal Temp. </button>     <button class="form-control btn btn-success condbtn"  disabled value="2" id="refrig">Refrigrated </button>  <button class="form-control btn btn-success condbtn" disabled value="3" id="froozen">Frozen </button>  </div>  </div> </div>') 
    
    $(".progclose1").click(function(){
        $(".Invdiv1").addClass('animate__animated animate__fadeOut');
        setTimeout(function() { 
            $(".Invdiv1").remove()
                            }, 500,);
    }); 
    
    $('#ordernumber').keyup("change",function(e){
        searchVal = e.target.value
        $.ajax({
                url: '/checkForOrder/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything               
                data:{
                    'searchVal':searchVal
                },
                success: function(is_taken,alldata){
                    if (is_taken == true){
                        $("#normltemp").attr("disabled", false)
                        $("#refrig").attr("disabled", false)
                        $("#froozen").attr("disabled", false)
                    }
                    if(is_taken == false ){
                        $("#normltemp").attr("disabled", true)
                        $("#refrig").attr("disabled", true)
                        $("#froozen").attr("disabled", true)
                    }

                }
            });
        }); 
    
    
    $(".condbtn").click(function(){
        vals = $(this).val()
        numord = $('#ordernumber').val()
        $("#apply").append('<div class="Invdiv animate__animated animate__fadeIn"> <button class="progclose">close</button><div class="Invtablediv"> <div class="midInvtablediv"> <div class="inrInvtablediv">  <table id="Invexample" class="table table-striped" style="width:100%"><thead>  <th>Date</th>  <th>Company Name</th>    <th>Analyzer Type</th>       <th>Element Name</th>   <th>Cat. Number</th> <th>QTY in Packs</th> <th>QTY in slides</th> <th>Order Number</th>        <th>Confirmation Number</th>               <th>Price</th><th>Inv. Number</th></tr></tr></thead><tbody ></tbody><tfoot><tr>  <th>Date</th> <th>Company Name</th>   <th>Analyzer Type</th>       <th>Element Name</th> <th>Cat. Number</th> <th>QTY in Packs</th> <th>QTY in Slides</th> <th>Order Number</th>         <th>Confirmation Number</th>       <th>Price</th><th>Inv. Number</th></tr></tfoot></table> </div> </div> </</div>div>') 
    
        $('#Invexample').DataTable( {
            dom: 'Bfrtip',
            order: [0, 'desc'],
            buttons: [
                'copy', 'csv', 'excel', 'pdf', 'print'
                
            ]
            
        });

        $.ajax({
                url: '/AutoInvOrder/', // <-- point to server-side PHP script
                dataType:  'json',  // <-- what to expect back from the PHP script, if anything               
                data:{
                    'vals':vals,
                    'numord':numord,
                },
                success: function(response){        
                    $("#Invexample").DataTable().clear();
                    var length = Object.keys(response.data).length;
                    var table = $('#Invexample').DataTable();
                    
                    for(var i = 0; i < length; i++) {
                        var customer = response.data[i];

                        $('#Invexample').dataTable().fnAddData( [
                            customer.dat,
                            customer.Item_Model_compName,
                            customer.Item_Model_compUnit,
                            customer.ElementName,
                            customer.CatNumber,
                            customer.QTY,
                            customer.SlidesQTY,
                            customer.orderNum,
                            customer.orderConfermation,
                            customer.Price,
                            customer.InvoiceNumber,
                            
                        ]);
                    
                    }
                    $('#Invexample tbody').on('click', 'tr', function () {
                            invdata = table.row(this).data()
                            invnumsave(invdata,vals)
                            if ($(this).hasClass('selected')) {
                                $(this).removeClass('selected');
                                
                            } else {
                                table.$('tr.selected').removeClass('selected');
                                $(this).addClass('selected');
                            }
                        });
                    },
                });

        $(".progclose").click(function(){
            $(".Invdiv").addClass('animate__animated animate__fadeOut');
            setTimeout(function() { 
                $(".Invdiv").remove()
                                }, 500,);
        });
      
});
});

function invnumsave(invdata,vals){
    console.log(invdata)
    console.log(vals)
    $("#apply").append('<div class="Invdiv16 animate__animated animate__fadeIn"> <button class="progclose">close</button><div class="Invtablediv1"> <div class="midInvtablediv1"> <div class="inrInvtablediv1"> <div class="form-group ico"><label class="prag1" for="Company_name">Invoice Number</label><input class="form-control" aria-placeholder="Invoice Number" id="Invm" name="companyName_Item" ></div><button id="numbtn" type="submit">save</button>  </div> </div> </</div>div>') 
    document.getElementById("Invm").focus();

    document.getElementById("Invm").addEventListener("change", () => {
    document.getElementById("numbtn").focus();
    });

    $(".progclose").click(function(){
            $(".Invdiv16").addClass('animate__animated animate__fadeOut');
            setTimeout(function() { 
                $(".Invdiv16").remove()
                                }, 500,);
                                });
    
    
    $("#numbtn").click(function(){
        invnuma = $("#Invm").val()
        console.log(invnuma)
        $.ajax({
            url: '/updateInvNumber/',
            dataType:  'json',  
            data:{
                'vals':vals,
                'orderNumber':invdata[7],
                'conNum':invdata[8],
                'invnum':invnuma,
            },
            success: function(response){
                $(".Invdiv16").addClass('animate__animated animate__fadeOut');
                setTimeout(function() { 
                    $(".Invdiv16").remove()
                                    }, 500,);
                                    
        
            },
        });
    });
}

</script>    <!-- ////////////////// Auto Invoice Order //////////////////////////////  -->


<script>
$("#ordInvshowing").click(function(){
    $(".contall").append('<div class="Invdiv animate__animated animate__fadeIn"> <button class="progclose">close</button><div class="Invtablediv"> <div class="midInvtablediv"> <div class="inrInvtablediv">  <table id="Invexample" class="table table-striped" style="width:100%"><thead><tr><tr>  <th>Date</th>  <th>Company Name</th>    <th>Analyzer Type</th>        <th>Order Number</th>        <th>Confirmation Number</th>       <th>Inv. Number</th>        <th>Price</th></tr></tr></thead><tbody ></tbody><tfoot><tr>  <th>Date</th> <th>Company Name</th>   <th>Analyzer Type</th>      <th>Order Number</th>         <th>Confirmation Number</th>  <th>Inv. Number</th>     <th>Price</th></tr></tfoot></table> </div> </div> </</div>div>') 
    
    $('#Invexample').DataTable( {
        dom: 'Bfrtip',
        order: [0, 'desc'],
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
            
        ]
        
    });

    $.ajax({
            url: '/showinginvoices/', // <-- point to server-side PHP script
            dataType:  'json',  // <-- what to expect back from the PHP script, if anything               
            success: function(response){
                console.log(response)
                
                    
                $("#Invexample").DataTable().clear();
                var length = Object.keys(response.data).length;
                var table = $('#Invexample').DataTable();
                
                for(var i = 0; i < length; i++) {
                    var customer = response.data[i];

                    $('#Invexample').dataTable().fnAddData( [
                        customer.dat,
                        customer.Item_Model_compName,
                        customer.Item_Model_compUnit,
                        customer.orderNum,
                        customer.orderConfermation,
                        
                        customer.InvoiceNumber,
                        customer.Price,
                    ]);
                
                }
                $('#Invexample tbody').on('click', 'tr', function () {
                        if ($(this).hasClass('selected')) {
                            $(this).removeClass('selected');
                            
                        } else {
                            table.$('tr.selected').removeClass('selected');
                            $(this).addClass('selected');
                        }
                    });
                },
            });

    $(".progclose").click(function(){
        $(".Invdiv").addClass('animate__animated animate__fadeOut');
        setTimeout(function() { 
            $(".Invdiv").remove()
                            }, 500,);
    
});
})
</script>    <!-- //////////////////  Invoice showing //////////////////////////////  -->







<script>
$("#confinp").click(function(){
$("#Ordercancel2").click(function(){
  $(".formo12").addClass('animate__animated animate__fadeOut');
  setTimeout(function() { 
      $(".formo12").load(" .formo12 > *");
      $("#allcontent").load(" #allcontent > *");
                      }, 500,);
  
});
})
</script>   <!-- ////////////////// ele form cancel //////////////////////////////  -->


<!-- ////////////////// Element //////////////////////////////  -->

<script>
$("#eleinp6").click(function(){
$("#Ordercancel1").click(function(){
  $(".formo12").addClass('animate__animated animate__fadeOut');
  setTimeout(function() { 
      $(".formo12").load(" .formo12 > *");
      $("#allcontent").load(" #allcontent > *");
                      }, 500,);
  
});
})
</script>   <!-- ////////////////// conf form cancel //////////////////////////////  -->



<script>
$("#eleinp6").click(function(){
$("#VitrosX1").css({"display": "block"});
})

</script>   <!-- ////////////////// div diplay  //////////////////////////////  -->


<script>
$("#eleinp6").click(function(){
  $('#orderNumber12').keyup("change",function(e){
      ordernum = e.target.value
      console.log(ordernum);
      $("#companyName1").val("")
      $("#typeOfAnalyzer1").val("")
      ordernum = $("#orderNumber12").val()
      $.ajax({
      url: '/getcompanies/', // <-- point to server-side PHP script
      dataType:  'json',  // <-- what to expect back from the PHP script, if anything
      data:{
          'ordernum':ordernum
      },
      success: function(arr){
          console.log(arr)
          j = 0
          for(i=0 ; i<arr.length ; i++){
              $("#companyName1").val(''+arr[j]+'')
              $("#typeOfAnalyzer1").val(''+arr[j+1]+'')

          }
          },
      });
  })
});
</script> <!-- ////////////////// company name //////////////////////////////  -->

<script>
$("#eleinp6").click(function(){
$("#orderNumber12").change(function(){
      compname = $("#companyName1").val()
      unit = $("#typeOfAnalyzer1").val()
      console.log(compname,unit)
      $.ajax({
      url: '/getParameter/', // <-- point to server-side PHP script
      dataType:  'json',  // <-- what to expect back from the PHP script, if anything
      data:{
              'compname':compname,
              'unit':unit,
          },
      success: function(arrayOfNames){
        console.log(arrayOfNames)
          $("#ElementName").html("<option  >--Please choose an option--</option>")
          var j=0;
          arrayOfNames.sort()
          for(i=0 ; i<arrayOfNames.length ; i++){
              y = arrayOfNames[j]
              $("#ElementName").append('<option id="companyNameOpt" >'+y+'</option>')
              j++
          }
          },
      
      });
});
});
</script><!-- ////////////////// element //////////////////////////////  -->

<script>
$("#eleinp6").click(function(){
  $("#ElementName").change(function(){
          ElementName = $("#ElementName").val()
          ordNum = $("#orderNumber12").val()
          $.ajax({
          url: '/checkDouplicatePara/', // <-- point to server-side PHP script
          dataType:  'json',  // <-- what to expect back from the PHP script, if anything
          data:{
                  'ElementName':ElementName,
                  'ordNum':ordNum,
              },
          success: function(message){
              alert(message)
              $("#ElementName").val("")
              $("#CatNumber").html("<option  >--Please choose an option--</option>")
              },
          
          });
  });
});
</script><!-- ////////////////// check douplicated Element //////////////////////////////  -->

<script>
$("#eleinp6").click(function(){
  var today = new Date();
  var dd = String(today.getDate()).padStart(2, '0');
  var mm = String(today.getMonth() + 1).padStart(2, '0'); 
  var yyyy = today.getFullYear();

  today =yyyy + '-' + mm + '-' + dd ;
  $("#Dato2").val(''+today+'')
});
</script>   <!-- ////////////////// date //////////////////////////////  -->

<script>
$("#eleinp6").click(function(){
  $("#ElementName").change(function(){
      eleNam = $("#ElementName").val()
      compNam = $("#companyName1").val()
      
      $("#CatNumber").html("<option>--Please choose an option--</option>")
      $.ajax({
      url: '/checkcat/', // <-- point to server-side PHP script
      dataType:  'json',  // <-- what to expect back from the PHP script, if anything
      data:{
              'eleNam':eleNam,
              'compNam':compNam,
          },
      success: function(arr){
          console.log(arr)
          var j=0;
          for(i=0 ; i<arr.length/2 ; i++){
              y = arr[j]
              $("#CatNumber").append('<option id="companyNameOpt" >'+y+'</option>')                    
              j = j+2
          }
          
          
          },
      
      });
  });
});
</script><!-- ////////////////// cat number //////////////////////////////  -->

<script>
$("#eleinp6").click(function(){
  $("#QTY").change(function(){
      catval = $("#CatNumber").val()
      Qtyv = $("#QTY").val()
      $("#AVLQTY2").html("")
      $.ajax({
          url: '/checkcatQty/', // <-- point to server-side PHP script
          dataType:  'json',  // <-- what to expect back from the PHP script, if anything
          data:{
                  'catval':catval,
              },
          success: function(num){
              console.log(num)
              actval = num * Qtyv
              $("#AVLQTY2").append(actval)
            //   $("#AVLQTY2").html("QTY In Slides")
              $("#AVLQTY2").val(actval)
              },
          
          });
  })
})
</script> <!-- ////////////////// Item QTY Slides //////////////////////////////  -->

<script>
$("#eleinp6").click(function(){
  $("#OrderInput1").click(function(){
      eleNam = $("#ElementName").val()
      compNam = $("#companyName1").val()
      typAna = $("#typeOfAnalyzer1").val()
      ordNum = $("#orderNumber12").val()
      ordDat = $("#Dato2").val()
      ordNot = $("#Note1").val()
      ordqty = $("#QTY").val()
      CatNum = $("#CatNumber").val()
      SlidesQTY = $("#AVLQTY2").val()
      
      console.log(SlidesQTY)

      $.ajax({
      url: '/SavelementOrder/', // <-- point to server-side PHP script
      dataType:  'json',  // <-- what to expect back from the PHP script, if anything
      data:{
              'eleNam':eleNam,
              'compNam':compNam,
              'typAna':typAna,
              'ordNum':ordNum,
              'ordDat':ordDat,
              'ordNot':ordNot,
              'ordqty':ordqty,
              'CatNum':CatNum,
              'SlidesQTY':SlidesQTY,
          },
      success: function(){
          $(".formo12").addClass('animate__animated animate__fadeOut');
      setTimeout(function() { 
          $(".formo12").load(" .formo12 > *");
          $("#allcontent").load(" #allcontent > *");
                          }, 500,);

          },
      
      });
  });
});
</script>  <!-- ////////////////// save element //////////////////////////////  -->
  {% endblock %}
 


</body>
</html>